"use strict";(self.webpackChunktiktok_4d_playback=self.webpackChunktiktok_4d_playback||[]).push([[12],{46457:function(e,t,n){var i,r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}(arguments[t]));return e}var s,a,c,u,l,h,p,f=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,function i(r){t(r),n.off(e,i)})},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length){if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]}},e.prototype.emit=function(e,t,n){n?e&&(-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&o(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),d=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},g=function(e){return Array.isArray(e)},m=(s=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return s+=1}),y=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,r=[],o=String.fromCharCode((n=n<=25?n:n%25)+97);i=e.split(o);for(var s=0;s<i.length;s++){var a=parseInt(i[s],n),c=String.fromCharCode(a=1*a^64);r.push(c)}return r.join("")}}(e,0,25)},_=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},b=function(){var e=0;return["hidden","msHidden","webkitHidden"].forEach(function(t){void 0!==document[t]&&(e=1)}),e},E=function(e){var t=document.createElement("a");return t.href=e,t},S=function(e){var t={};try{var n=E(e).search;(n=n.slice(1)).split("&").forEach(function(e){var n,i,r=e.split("=");r.length&&(n=r[0],i=r[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}})}catch(e){}return t},w=(a=l={exports:{}},l.exports,u=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(i.read||i)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return s(e,!1)},r.getJSON=function(e){return s(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}(function(){})},a.exports=u(),l.exports),T=function(e,t){try{return w.get(e)}catch(e){return""}},A=function(e,t,n,i){try{var r=i||document.domain,o=+new Date+(n||6048e5);w.set(e,t,{expires:new Date(o),path:"/",domain:r})}catch(e){}},k=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return T(e)},e.prototype.setCookie=function(e,t,n,i){A(e,t,n,i)},e}(),C={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return T(e)},setCookie:function(e,t,n,i){A(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},R={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return T(e)},setCookie:function(e,t,n,i){A(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},D=function(){function e(e,t){this._storage=t&&"session"===t?R:!e&&C.isSupportLS?C:new k}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),O=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?E(n).hostname:"",r=S(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var r=new D(!1,"session"),o=e?"_$utm_from_url_"+e:"_$utm_from_url",s={},a=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var u=!1;for(var l in c)c[l]&&(-1!==a.indexOf(l)?(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data[l]=c[l]):s[l]=c[l],u=!0);u&&r.setItem(o,"1"),r.getItem(o)&&(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data.$utm_from_url=1)}catch(e){return c}return s}(this.appid,r,this.domain,this.cookie_expire);var s=this.browser(),a=this.os();return{browser:s.browser,browser_version:s.browser_version,platform:o,os_name:a.os_name,os_version:a.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(a.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",r="",o=location.hostname,s=!1;if(e&&t&&o!==t){n=e,i=t,s=!0;var a=S(e);a.keyword&&(r=a.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:r,isLast:s}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),r=this.userAgent;return -1!==r.indexOf("Edge")||-1!==r.indexOf("Edg")?(n="Microsoft Edge",-1!==r.indexOf("Edge")?(e=r.indexOf("Edge"),i=r.substring(e+5)):(e=r.indexOf("Edg"),i=r.substring(e+4))):-1!==(e=r.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=r.substring(e+5)):-1!==(e=r.indexOf("Lark"))?(n="Lark",i=r.substring(e+5,e+11)):-1!==r.indexOf("Chrome")?-1!==(e=r.indexOf("TTWebView"))?(n="TTWebView",i=r.substring(e+10,e+23)):(-1!==(e=r.indexOf("Chrome"))||-1!==(e=r.indexOf("Chrome")))&&(n="Chrome",i=r.substring(e+7)):-1!==r.indexOf("Safari")?-1!==(e=r.indexOf("Safari"))&&(n="Safari",i=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))&&(n="Firefox",i=r.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e,t,n="",i="",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"ChromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],o=0;o<r.length;o++){var s=r[o];if(s.r.test(this.userAgent)){"Mac OS X"===(n=s.s)&&this.isNewIpad()&&(n="iOS");break}}var a=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(n)&&(i=a(/Windows (.*)/,n),n="windows"),n){case"Mac OS X":i=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),n="mac";break;case"Android":(t=a(/Android ([\.\_\d]+)/,e=this.userAgent))||(t=a(/Android\/([\.\_\d]+)/,e)),i=t,n="android";break;case"iOS":i=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(i=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?i[1]+"."+i[2]+"."+(0|i[3]):"",n="ios";break;case"chromeOS":var u=this.userAgent.indexOf("x86_64");i=this.userAgent.substring(u+7,u+16)}return{os_name:n,os_version:i}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach(function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))});else if("ios"===e||"mac"===e||"windows"===e){if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}}catch(e){}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),M={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},B={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},I={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},G={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz25z4az23z21",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz24z4az23z21",ie:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4az22z1gz1iz22z1mz1iz25z4az1cz23",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"};(P=h||(h={})).Init="init",P.Config="config",P.Start="start",P.Ready="ready",P.TokenComplete="token-complete",P.TokenStorage="token-storage",P.TokenFetch="token-fetch",P.TokenError="token-error",P.ConfigUuid="config-uuid",P.ConfigWebId="config-webid",P.ConfigDomain="config-domain",P.CustomWebId="custom-webid",P.TokenChange="token-change",P.TokenReset="token-reset",P.ConfigTransform="config-transform",P.EnvTransform="env-transform",P.SessionReset="session-reset",P.SessionResetTime="session-reset-time",P.Event="event",P.Events="events",P.EventNow="event-now",P.CleanEvents="clean-events",P.BeconEvent="becon-event",P.SubmitBefore="submit-before",P.SubmitScuess="submit-scuess",P.SubmitAfter="submit-after",P.SubmitError="submit-error",P.SubmitVerify="submit-verify",P.DestoryInstance="destory-instance",P.Stay="stay",P.ResetStay="reset-stay",P.StayReady="stay-ready",P.SetStay="set-stay",P.RouteChange="route-change",P.RouteReady="route-ready",P.Ab="ab",P.AbVar="ab-var",P.AbAllVars="ab-all-vars",P.AbConfig="ab-config",P.AbExternalVersion="ab-external-version",P.AbVersionChangeOn="ab-version-change-on",P.AbVersionChangeOff="ab-version-change-off",P.AbOpenLayer="ab-open-layer",P.AbCloseLayer="ab-close-layer",P.AbReady="ab-ready",P.AbComplete="ab-complete",P.AbTimeout="ab-timeout",P.Profile="profile",P.ProfileSet="profile-set",P.ProfileSetOnce="profile-set-once",P.ProfileUnset="profile-unset",P.ProfileIncrement="profile-increment",P.ProfileAppend="profile-append",P.ProfileClear="profile-clear",P.Autotrack="autotrack",P.AutotrackReady="autotrack-ready",P.CepReady="cep-ready",P.TracerReady="tracer-ready",P.sessionRecord="session-record",P.SessionRecordStart="session-record-start",P.SessionRecordPause="session-record-pause",P.SessionRecordEnd="session-record-end",P.SessionRecordReport="session-record-report",P.VisualCollectReady="visual-collect-ready",P.VisualApiReady="visual-api-ready",P.VisualApiUpdate="visual-api-update",(x=p||(p={})).DEBUGGER_MESSAGE="debugger-message",x.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",x.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",x.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",x.DEBUGGER_MESSAGE_EVENT="debugger-message-event",x.DEVTOOL_WEB_READY="devtool-web-ready";var P,x,z,L=h,N=void 0,H=(new Date).getTimezoneOffset(),U=parseInt(""+-H/60,10),j=60*H,F=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new O(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init(),i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new D(!1,"session"),this.localStorage=new D(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var r=this.localStorage.getItem(i);r&&1==r?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:N,user_type:N,user_id:N,user_is_auth:N,user_is_login:N,device_id:N,web_id:N,ip_addr_id:N,user_unique_id_type:N},header:{app_id:N,app_name:N,app_install_id:N,install_id:N,app_package:N,app_channel:N,app_version:N,ab_version:N,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:N,traffic_type:N,client_ip:N,device_brand:N,os_api:N,access:N,language:n.language,region:N,app_language:N,app_region:N,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:N,rnd:N,platform:n.platform,sdk_version:"5.3.0_oversea",sdk_lib:"js",province:N,city:N,timezone:U,tz_offset:j,tz_name:N,sim_region:N,carrier:N,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{}}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?I[n]:G[n]:M[n];i||(console.warn("current channel: "+n+" is not exist, use va instead, please check!!!!"),i=M.sg),this.domain=y(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t="__tea_sdk_ab_version_"+this.initConfig.app_id;e=this.localStorage.getItem(t),this.setAbCache(e)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version=5.3.0_oversea&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach(function(n){if(void 0!==e[n]&&null!==e[n]||t.delete(n),"traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=r(r({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=r(r({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var i="",o="";if(n.indexOf(".")>-1){var s=n.split(".");i=s[0],o=s[1]}i?"user"===i||"header"===i?t.envInfo[i][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=!!e[n]:"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}})},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"}),console.log("delete error")}},e}(),q=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[Tea instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("%c %s","color: #4D1B00; background-color: #FF7D00;","[Tea instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("%c %s","color: #FFF; background-color: #F53F3F;","[Tea instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),Error(e)},e}(),V=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach(function(e){-1!==t.indexOf(e)&&(n=!0)}),n},e}(),K=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise(function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted(function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)}):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}})},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach(function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)})}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57CB\u70B9\u4E0A\u62A5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),W=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new D(!0),this.localStorage=new D(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(L.Ready,function(){n.reportAll(!1)}),this.collect.on(L.ConfigDomain,function(){n.reportUrl=n.configManager.getUrl("event")}),this.collect.on(L.Event,function(e){n.event(e)}),this.collect.on(L.BeconEvent,function(e){n.beconEvent(e)}),this.collect.on(L.CleanEvents,function(){n.reportAll(!1)}),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",function(){e.reportAll(!0)},!1),_(function(){e.reportAll(!0)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.reportAll(!0)},!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;if(!this.collect.destroy&&!this.collect.sdkStop)try{var n=o(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout(function(){t.report(!1),t.reportTimeout=null},i)}}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e){if(!this.collect.destroy&&!this.collect.sdkStop){var t=o(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))}},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){i=e.slice(n,n+this.eventLimit);var i,r=this.split(this.merge(i));this.send(r,t)}else r=this.split(this.merge(e)),this.send(r,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,i=this.configManager.get(),o=i.header,s=i.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var a=this.configManager.get("evtParams"),c=this.configManager.get("user_unique_id_type"),u=[];try{var l=e.filter(function(e){try{Object.keys(a).length&&!t&&(e.params=r(r({},a),e.params)),c&&(e.params.$user_unique_id_type=c);var i=n.configManager.getAbCache(),o=s[n.config.ab_user_mode]||s.user_unique_id,u=n.configManager.getAbUuidCache(o);if(i&&i.uuid&&i.uuid===o){var l=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(u&&u.length){var h=u.join(",");l&&l.includes(h)&&(e.ab_sdk_version=l)}}else l&&(e.ab_sdk_version=l)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return console.warn("filter merge event: "+(e&&e.event)+" error, pls check",t&&t.message),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Merge Event Something Error",level:"error",time:Date.now(),data:t.message,infoType:"sdk"}),!1}}),h=JSON.parse(JSON.stringify({events:l,user:s,header:o}));h.local_time=Math.floor(Date.now()/1e3),h.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,h.verbose=1,u.push(h)}catch(e){console.warn("event merge error, pls check",e&&e.message)}return u},e.prototype.split=function(e){return e=e.map(function(e){var t=[];return t.push(e),t})},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach(function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var r=i||e,o=JSON.parse(JSON.stringify(r));if(!r.length)return;var s=!0;if(r.forEach(function(e){e.events.length||(s=!1)}),!s)return;n.collect.emit(L.SubmitBefore,r),n.collect.emit(L.SubmitVerify,r),n.collect.requestManager.useRequest({url:n.reportUrl,data:r,success:function(e,t){e&&0!==e.e?(n.collect.emit(L.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"Event Report fail",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636E\u5F02\u5E38\u5931\u8D25",status:"fail"})):(n.collect.emit(L.SubmitScuess,{eventData:t,res:e}),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"Event Report Success",time:Date.now(),data:o,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(L.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"Event Report Network fail",time:Date.now(),data:o,code:t,failType:"\u7F51\u7EDC\u5F02\u5E38\u5931\u8D25",status:"fail"})},timeout:n.timeout,useBeacon:!n.config.disable_sendbeacon&&t,withCredentials:n.enable_ttwebid}),n.collect.emit(L.SubmitAfter,r)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Report Event Something Error",level:"error",time:Date.now(),data:e.message})}}))},e}(),J=function(){return(function e(t){return t?(t^16*Math.random()>>t/4).toString(10):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)})().replace(/-/g,"").slice(0,19)},X=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new D(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(L.ConfigUuid,function(e){n.setUuid(e)}),this.collect.on(L.ConfigWebId,function(e){n.setWebId(e)}),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(L.CustomWebId,function(){e.tokenReady=!0,e.collect.emit(L.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:J(),user_unique_id:this.configManager.get("user_unique_id")||J()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=S(window.location.href);return!(!t||!t.Web_ID)&&(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),!0)}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch WebID Request",logType:"fetch",level:"info",time:Date.now(),data:n});var i=J();this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Success",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(L.TokenError),e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Data Error, Use LocalId",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(L.TokenError),e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Network Fail, Use LocalId",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK UserInfo Complete",logType:"info",secType:"USER",level:"info",time:Date.now(),data:{web_id:t,user_unique_id:n},infoType:"sdk"}),this.collect.emit(L.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(L.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;(t!==n||t!==i)&&(this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(L.TokenChange,"uuid"),this.collect.emit(L.SessionReset))}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(L.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(L.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(L.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise(function(t){if("tcpy"!==e.config.channel_type&&"ttp"!==e.config.channel_type){var n={app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")};e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch GetToken Request",logType:"fetch",level:"info",time:Date.now(),data:n,infoType:"sdk"}),e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:n,success:function(n){n&&0===n.e?(t(n.tobid),e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Success",logType:"fetch",level:"info",time:Date.now(),data:n,infoType:"sdk"})):(t(""),e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Fail",logType:"fetch",level:"error",time:Date.now(),data:n,infoType:"sdk"}))},fail:function(){t(""),e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Network Error",logType:"fetch",level:"error",time:Date.now(),infoType:"sdk"})},time:3e4,withCredentials:e.enable_ttwebid})}else t("")})},e}(),Q=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},$=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new D(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(L.SessionReset,function(e){n.resetSessionId(e)}),this.collect.on(L.SessionResetTime,function(){n.updateSessionIdTime()}))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:Q(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:Q(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||Q(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:Q(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),Y=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type,this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,i=e.method,r=e.success,o=e.fail,s={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var a in this.customHeader)s[a]=this.customHeader[a];window.fetch?fetch(t,{method:i||"POST",headers:s,body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){r&&r(e)}).catch(function(e){o&&o(n,e)}):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:i,success:r,fail:o}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,i=e.success,r=e.fail;"xhr"!==this.requestType?window.navigator.sendBeacon(t,JSON.stringify(n))?i&&i():r&&r(n,this.errorCode.BEACON_FALSE):this.useXhr(e)},e.prototype.useXhr=function(e){var t=this,n=e.url,i=e.data,r=e.method,o=e.success,s=e.fail,a=e.timeout,c=e.withCredentials,u=e.app_key;try{var l=new XMLHttpRequest;if(l.open(r||"POST",""+n,!0),l.setRequestHeader("Content-Type","application/json; charset=utf-8"),u&&l.setRequestHeader("X-MCS-AppKey",""+u),Object.keys(this.customHeader).length)for(var h in this.customHeader)l.setRequestHeader(h,this.customHeader[h]);c&&(l.withCredentials=!0),a&&(l.timeout=a,l.ontimeout=function(){s&&s(i,t.errorCode.TIMEOUT)}),l.onload=function(){if(o){var e=null;if(l.responseText){try{e=JSON.parse(l.responseText)}catch(t){e={}}o(e,i)}}},l.onerror=function(){l.abort(),s&&s(i,t.errorCode.XHR_ON)},l.send(JSON.stringify(i))}catch(e){}},e.prototype.useRequest=function(e){var t=e.useBeacon,n=e.forceXhr;if("xhr"===this.requestType)this.useXhr(e);else{if(t&&this.supportBeacon)return void this.useBeacon(e);if("fetch"===this.requestType&&!n)return void this.useFetch(e);this.useXhr(e)}},e}(),Z=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,t.enable_debug&&"Microsoft Internet Explorer"!==e.configManager.get("browser")){this.collect=e,this.config=t,this.app_id=t.app_id;var n=e.adapters.storage;this.cacheStorgae=new n(!1),this.loadUrl=t.devtool_url||"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.v2.0.0.js",this.filterEvent=new Set(["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"]),this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach(function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])})}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_open_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_open_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript(this.loadUrl)},e.prototype.loadBaseInfo=function(){if(this.log=[],this.event=[],this.info=[{title:"BaseInfo",key:"base",type:1,content:[{name:"app_id",desc:"APPID",value:this.config.app_id},{name:"channel",desc:"CHANNEL",value:this.config.channel},{name:"domain",desc:"Domain",value:this.collect.configManager.getDomain()},{name:"sdk_version",desc:"SDK Version",value:"5.3.0_oversea"},{name:"sdk_type",desc:"SDK Import Type",value:"npm"}]},{title:"UserInfo",key:"user",type:2,content:[{name:"uuid",desc:"UserUniqueId",value:this.collect.configManager.get("user").user_unique_id||""},{name:"web_id",desc:"WEB_ID",value:this.collect.configManager.get("user").web_id||""}]},{title:"CommonInfo",type:2,key:"common",content:[{name:"browser",desc:"Browser",value:this.collect.configManager.get("browser")},{name:"browser_version",desc:"Browser Version",value:this.collect.configManager.get("browser_version")},{name:"platform",desc:"Platform",value:this.collect.configManager.get("platform")},{name:"device_model",desc:"Devide Model",value:this.collect.configManager.get("device_model")},{name:"os_name",desc:"Os Name",value:this.collect.configManager.get("os_name")},{name:"os_version",desc:"Os Version",value:this.collect.configManager.get("os_version")},{name:"resolution",desc:"Screen Resolution",value:this.collect.configManager.get("resolution")},{name:"referrer",desc:"Referrer",value:this.collect.configManager.get("referrer")},{name:"custom",desc:"Custom Info",value:JSON.stringify(this.collect.configManager.get("custom"))}]},{title:"Config Info",key:"config",type:3,content:[{name:"autotrack",desc:"AutoTrackEvent",value:!!this.config.autotrack},{name:"stay",desc:"StayDuration",value:!!this.config.enable_stay_duration}]},{title:"A/B Config Info",key:"ab",type:4,content:[{name:"ab",desc:"A/BTester",value:!!this.config.enable_ab_test}]}],this.config.enable_ab_test){var e=this.getInfo("ab"),t=[{name:"ab",desc:"A/BTester",value:!!this.config.enable_ab_test},{name:"vid",desc:"A/B VID",value:this.collect.configManager.getAbVersion()},{name:"ab_domain",desc:"Domain",value:this.config.ab_channel_domain||y(B[this.config.channel])},{name:"all_values",desc:"A/B ALL Values",value:this.collect.configManager.getAbCache()}];e.content=t,this.setInfo("ab",e)}},e.prototype.getInfo=function(e){var t=null;return this.info.forEach(function(n){n.key===e&&(t=n)}),t},e.prototype.setInfo=function(e,t){var n=!1;this.info.forEach(function(i){i.key===e&&(n=!0,i=t)}),n||this.info.push(t)},e.prototype.getSecondInfo=function(e,t){var n=this.getInfo(e),i=null;return n.content.forEach(function(e){e.name===t&&(i=e)}),i},e.prototype.setSecondInfo=function(e,t,n){var i=this.getInfo(e);i.content.forEach(function(e){e.name===t&&(e.value=n)}),this.setInfo(e,i)},e.prototype.loadHook=function(){var e=this;this.collect.on(p.DEBUGGER_MESSAGE,function(t){switch(t.type){case p.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",infoType:t.infoType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.setSecondInfo("ab","vid",e.collect.configManager.getAbVersion()),e.setSecondInfo("ab","all_values",e.collect.configManager.getAbCache())):"USER"===t.secType&&(e.setSecondInfo("user","uuid",e.collect.configManager.get("user").user_unique_id),e.setSecondInfo("user","web_id",e.collect.configManager.get("user").web_id)),void e.updateInfo();case p.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],r=i.events;if(!r.length)return;r.forEach(function(n){n.checkShow=!0,n.searchShow=!0,n.focusShow=!0,n.status=t.status,n.type=e.filterEvent.has(n.event)?"sdk":"cus",n.verifyType=t.verifyType?"verify":"no",n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"\uFF0C msg: "+(t.msg||t.failType)})}),e.updateEvent(i)}return}})},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",function(t){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event,sdk_type:"5.3.0_oversea".includes("tob")?"tob":"inner",appId:e.app_id}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken(function(t){e.setSecondInfo("user","sid",t.tobid),e.updateInfo()})})},e.prototype.sendData=function(e,t){try{window&&window.postMessage({type:e,payload:t},this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e="#debugger-applog-web {\n      position: fixed;\n      width: 45px;\n      height: 45px;\n      background-image: url("+y("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1bz1cz24z22z1mz1mz1jz4bz18z1nz1nz1jz1mz1ez4az1nz1lz1e")+");\n      bottom: 5%;\n      right: 10%;\n      cursor: pointer;\n      z-index:100;\n      background-size: 45px;\n    }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.appendChild(n);var i=document.createElement("div");i.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web"></div>';var r=document.createElement("div");r.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(i),document.getElementsByTagName("body")[0].appendChild(r);var o=document.getElementById("debugger-applog-web");o&&o.addEventListener("click",function(){window&&window.postMessage({type:"devtool:web:open-draw"},location.origin)})},e}(),ee={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},et=["ab","autotrack","Stay","store","et","profile","cep","heartbeat","monitor","route","tracer"],en=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new f,this.remotePlugin=new Map,this.Types=L,this.adapters.storage=D,this.loadType="full"}return e.usePlugin=function(t,n,i){if(n){for(var r=!1,o=0,s=e.plugins.length;o<s;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=i||{},r=!0;break}r||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&et.includes(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,r=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new q(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&d(n)){if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i)){if(n.app_key&&"string"!=typeof n.app_key)this.logger.warn("app_key param is error, must be string, please check!");else{var o=["sg","va","in","ie","ie2"];n.channel_domain||-1!==o.indexOf(n.channel)||(this.logger.warn("your channel: "+n.channel+" is not exist. channel must be one of "+o.join(",")+", use sg instead, please check!!!"),n.channel="sg"),this.spider=new V,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.appBridge=new K(this,n.enable_native),this.requestManager=new Y(this,n),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new F(this,n),this.debugger=new Z(this,n),this.initConfig=n,this.emit(L.Init),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Init",data:n,level:"info",time:Date.now(),infoType:"cus"}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new W,this.tokenManager=new X,this.sessionManager=new $,Promise.all([new Promise(function(e){r.once(L.TokenComplete,function(){e(!0)})}),new Promise(function(e){r.once(L.Start,function(){e(!0)})})]).then(function(){try{e.plugins.reduce(function(e,t){var n=t.plugin,i=t.options,o=Object.assign(r.initConfig,i);r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Load "+t.name+" Plugin",level:"info",time:Date.now(),infoType:"sdk"});var s=new n;return s.apply(r,o),e.push(s),e},r.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Load Plugin Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}r.sdkReady=!0,r.emit(L.Ready),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Initialization Completed",time:Date.now(),level:"info",secType:"USER",data:r.configManager.get("user"),infoType:"sdk"}),r.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(r.configManager.get("user"))),r.logger.info("appid: "+n.app_id+", sdk is ready, version is 5.3.0_oversea, you can report now !!!"),n.disable_auto_pv&&(r.disableAutoPageView=!0);try{("full"===r.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}r.pageView(),r.on(L.TokenChange,function(e){"webid"===e&&r.pageView(),r.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Set UserInfo",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user"),infoType:"sdk"})}),r.on(L.TokenReset,function(){r.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Reset UserInfo",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user"),infoType:"sdk"})}),r.on(L.RouteChange,function(e){e.init||n.disable_route_report||r.pageView()})}),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}}else this.logger.warn("app_id param is error, must be number, please check!")}else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited){if(e&&d(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(n){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=r({},t);if(this.initConfig&&this.initConfig.configPersist){var i=this.configManager.getStore();i&&(n=Object.assign(i,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&(n[i[r]]=e[i[r]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(L.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(L.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Config",level:"info",time:Date.now(),data:n,infoType:"cus"})}}else console.warn("config params is error, please check")}else console.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(L.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(L.Start),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Start",level:"info",time:Date.now(),infoType:"cus"}),this.bridgeReport&&(this.pageView(),this.emit(L.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach(function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)});else{var r=this.processEvent(e,t);if(!r)return;i.push(r)}this.bridgeReport?i.forEach(function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))}):i.length&&(this.emit(L.Event,i),this.emit(L.SessionResetTime)),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Event",level:"info",time:Date.now(),data:e,infoType:"cus"})}catch(e){this.logger.warn("something error, please check"),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Event Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(L.BeconEvent,n),this.emit(L.SessionResetTime)),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Beacon Event",level:"info",time:Date.now(),data:e,infoType:"sdk"}))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null\uFF0C please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=m();var r=void 0;return i.local_ms?(r=i.local_ms,delete i.local_ms):r=+new Date,{event:n,params:i,local_time_ms:r,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:n.message,infoType:"sdk"}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=r(r({},t),e);this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Report PV",level:"info",time:Date.now(),infoType:"sdk"}),this.event("predefine_pageview",n)}else console.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(L.CleanEvents)},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return Q()},e.prototype.setSessionId=function(e){this.emit(L.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(L.ResetStay,{url_path:e,title:t,url:n},L.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(L.SetStay,{url_path:e,title:t,url:n},L.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var i=!1,o=function(t){if(!i){i=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(r({},o))}},s=function(){n.tokenManager.getTobId().then(function(e){o(e)})};this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute GetToken",level:"info",time:Date.now(),infoType:"cus"}),this.sdkReady?s():(t&&setTimeout(function(){o()},t),this.on(L.Ready,function(){s()}))}else console.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(L.ProfileSet,e,L.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(L.ProfileSetOnce,e,L.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(L.ProfileIncrement,e,L.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(L.ProfileUnset,e,L.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(L.ProfileAppend,e,L.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(L.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,L.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(L.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},L.Ab)},e.prototype.getABconfig=function(e,t){this.emit(L.AbConfig,{params:e,callback:t},L.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(L.AbVersionChangeOn,e,L.Ab),function(){t.emit(L.AbVersionChangeOff,e,L.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(L.AbVersionChangeOff,e,L.Ab)},e.prototype.openOverlayer=function(){this.emit(L.AbOpenLayer,"",L.Ab)},e.prototype.closeOverlayer=function(){this.emit(L.AbCloseLayer,"",L.Ab)},e.prototype.getAllVars=function(e){this.emit(L.AbAllVars,e,L.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(L.TokenComplete),this.emit(L.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(L.TokenComplete),this.emit(L.DestoryInstance))},e.plugins=[],e}(),ei="__rangers_ab_style__";(ek=z||(z={}))[ek.Var=0]="Var",ek[ek.All=1]="All";var er=function(){function e(){this.fetchStatus="no",this.refreshFetchStatus="no",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data={},this.changeListener=new Map,this.readyStatus=!1,this.exposureCache=[]}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_ab_test){var i=t.enable_multilink,r=t.ab_channel_domain,o=t.enable_ab_visual,s=t.ab_cross,a=t.ab_cookie_domain,c=t.ab_timeout,u=t.disable_auto_ab,l=B[t.channel||"sg"]||B.sg,h=r||y(l),p=e.adapters.storage;this.cacheStorgae=new p(!1),this.timeout=c||3e3,this.enable_multilink=i,this.enable_ab_visual=o,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=s,this.ab_cookie_domain=a||"",this.fetchUrl=h+"/service/2/abtest_config/",this.reportUrl=this.collect.configManager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id";var f=this.collect.Types;this.types=f,this.collect.on(f.TokenChange,function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())}),this.collect.on(f.AbVar,function(e){var t=e.name,i=e.defaultValue,r=e.callback;n.getVar(t,i,r)}),this.collect.on(f.AbAllVars,function(e){n.getAllVars(e)}),this.collect.on(f.AbConfig,function(e){var t=e.params,i=e.callback;n.getABconfig(t,i)}),this.collect.on(f.AbExternalVersion,function(e){n.setExternalAbVersion(e)}),this.collect.on(f.AbOpenLayer,function(){n.openOverlayer()}),this.collect.on(f.AbCloseLayer,function(){n.closeOverlayer()}),this.collect.on(f.AbVersionChangeOn,function(e){n.changeListener.set(e,e)}),this.collect.on(f.AbVersionChangeOff,function(e){n.changeListener.get(e)&&n.changeListener.delete(e)}),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(u||this.fetchAB(),this.readyStatus=!0),this.collect.emit(f.AbReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})};for(var r in n)i(r)}},e.prototype.loadMode=function(){var e=function(){try{return JSON.parse(atob(window.name))||void 0}catch(e){return}}(),t="";if(e){var n=e.scenario,i=e.href;n?(this.editMode=!0,t=n):i&&(-1!==i.indexOf("datatester")||-1!==i.indexOf("visual-editor"))&&(this.editMode=!0,t="visual-editor")}this.enable_ab_visual&&"visual-editor"===t&&this.collect.destoryInstace()},e.prototype.checkLocal=function(){var e=this.getABCache(),t=e.ab_version,n=e.ab_ext_version,i=e.ab_version_multilink,r=(e.data,this.checkFromUrl());r?this.mulilinkVersions.push(r):this.mulilinkVersions=i||[],this.extVersions=n||[],this.versions=t||[];var o=this.versions.concat(this.extVersions);this.enable_multilink&&(o=o.concat(this.mulilinkVersions))},e.prototype.checkFromUrl=function(){var e=S(window.location.href);return e&&e.vid?e.vid:""},e.prototype.updateVersions=function(){var e=this.extVersions.length?this.versions.concat(this.extVersions):this.versions;this.enable_multilink&&(e=e.concat(this.mulilinkVersions)),this.configVersions(e.join(",")),this.updateABCache(),this.changeListener.size>0&&this.changeListener.forEach(function(t){"function"==typeof t&&t(e)})},e.prototype.configVersions=function(e){this.collect.configManager.setAbVersion(e)},e.prototype.getVar=function(e,t,n,i){if(!e)throw Error("variable must not be empty");if(void 0===t)throw Error("variable no default value");if("function"!=typeof n)throw Error("callback must be a function");var r={name:e,defaultValue:t,callback:n,type:z.Var};this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetVar",level:"info",time:Date.now(),data:e,infoType:"cus"}),"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(r,e,i):this.callbacks.push(r)},e.prototype.setAbUuid=function(e,t){this.collect.configManager.setAbUuidCache(e,t)},e.prototype.getRealVar=function(e,t,n){var i=e.name,r=e.defaultValue,o=e.callback,s=this.data;if(s){if(d(s[i])){var a=s[i].vid;return"$ab_url"===t?this.mulilinkVersions.includes(a)||this.mulilinkVersions.push(a):this.versions.includes(a)||this.versions.push(a),this.setAbUuid(a,n),this.updateVersions(),this.fechEvent(a,t,r),o(s[i].val),void this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetVar, Exposure Experiment "+i,level:"info",time:Date.now(),data:s[i],infoType:"sdk"})}this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GerVar Default Callback",level:"info",time:Date.now(),data:this.data,infoType:"sdk"}),o(r)}else o(r)},e.prototype.getAllVars=function(e){if("function"!=typeof e)throw Error("callback must be a function");var t={callback:e,type:z.All};this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetAllVars",level:"info",time:Date.now(),infoType:"cus"}),"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbacks.push(t)},e.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{}),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Execute GetAllVars Callback",level:"info",time:Date.now(),data:this.data,infoType:"sdk"})},e.prototype.fechEvent=function(e,t,n){try{if(this.config.disable_track_event||!e)return;var i=this.collect.configManager.get(),r=i.header,o=i.user,s=this.getABCache(),a=o[this.ab_user_mode]||o.user_unique_id;if(s&&s.uuid&&s.uuid!==a)return;var c={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.config.appId,ab_url:"$ab_url"===t?n:window.location.href,data:this.data}),local_time_ms:Date.now()};r.custom=JSON.stringify(r.custom),this.reportExposure({events:[c],user:o,header:r},t)}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.reportExposure=function(e,t){var n=this;this.exposureCache.push(e),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report(t):this.reportTimeout=setTimeout(function(){n.report(t),clearTimeout(n.reportTimeout)},this.ab_batch_time)},e.prototype.report=function(e){var t=this;this.collect.requestManager.useRequest({url:this.reportUrl,data:this.exposureCache,timeout:2e4,useBeacon:"$ab_url"===e}),this.exposureCache.forEach(function(e){t.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"SDK Report Exposure Event Success",time:Date.now(),data:[e],code:200,status:"success",infoType:"sdk"})}),this.exposureCache=[]},e.prototype.setExternalAbVersion=function(e){this.extVersions=[e],this.updateVersions()},e.prototype.getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collect.configManager.set(e),this.fetchAB(t)},e.prototype.get=function(e){return this.cacheStorgae.getItem(e)},e.prototype.set=function(e,t){this.cacheStorgae.setItem(e,t),this.collect.configManager.setAbCache(t),this.collect.event("abtest_cache",{env_uuid:this.collect.configManager.get("user").user_unique_id||"",cache:JSON.stringify(t)})},e.prototype.getABCache=function(e){var t={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return t=this.get(this.abKey)||t,e?t[e]:t},e.prototype.updateABCache=function(){var e=this.getABCache();e.ab_version_multilink=this.mulilinkVersions,e.ab_ext_version=this.extVersions,e.ab_version=this.versions,e.timestamp=Date.now(),this.set(this.abKey,e)},e.prototype.setAbCache=function(e){var t=this.getABCache();t.data=this.data,t.uuid=e,t.timestamp=Date.now(),this.set(this.abKey,t)},e.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},e.prototype.openOverlayer=function(e){var t=this;if(function(){if(!document.getElementById(ei)){var e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=ei,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(),e)var n=setTimeout(function(){t.closeOverlayer(),clearTimeout(n)},e)},e.prototype.closeOverlayer=function(){var e;(e=document.getElementById(ei))&&e.parentElement.removeChild(e)},e.prototype.fetchComplete=function(e,t){var n=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){this.data=e,this.setAbCache(t);var i=[];Object.keys(e).forEach(function(t){var n=e[t].vid;n&&i.push(n)}),this.versions=this.versions.filter(function(e){return i.includes(e)});var r=e.$ab_url,o=e.$ab_modification;if(o&&o.val&&this.enable_ab_visual){if(this.collect.destroy)return}else if(r&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter(function(e){return i.includes(e)});var s=r.val,a=r.vid;s&&a&&this.getVar("$ab_url",s,function(){n.editMode||(s!==window.location.href?setTimeout(function(){if(!n.collect.destroy){var e=""+s;e=-1===e.indexOf("http")?"https://"+e:e,E(e).host!==location.host?e=e+"&vid="+a:window.history.replaceState("","",e),window.location.href=e}},100):n.closeOverlayer())})}this.updateVersions()}else this.closeOverlayer();this.callbacks.forEach(function(e){return n[e.type===z.Var?"getRealVar":"getRealAllVars"](e,"")}),this.callbacks=[]}catch(e){}},e.prototype.fetchAB=function(e){var t=this,n=this.collect.configManager.get(),i={header:r(r(r({aid:this.config.app_id},n.user||{}),n.header||{}),{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})};this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch AB Request",level:"info",logType:"fetch",time:Date.now(),data:i,infoType:"sdk"});var o=n.user[this.ab_user_mode]||n.user.user_unique_id;this.collect.requestManager.useRequest({url:this.fetchUrl,data:i,success:function(n){t.fetchStatus="complete",t.refreshFetchStatus="complete";var i=n.data;"success"===n.message?(t.fetchComplete(i,o),e&&e(i)):(t.fetchComplete(null,o),e&&e(null)),t.collect.emit(t.types.AbComplete,i),t.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Fetch AB Request Success",level:"info",logType:"fetch",time:Date.now(),data:i,infoType:"sdk"})},fail:function(){t.fetchStatus="complete",t.refreshFetchStatus="complete",t.fetchComplete(null,o),t.collect.emit(t.types.AbTimeout),e&&e(null),t.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Fetch AB Request Network Error",level:"error",logType:"fetch",time:Date.now(),infoType:"sdk"})},timeout:this.timeout})},e.prototype.filterUrl=function(e){try{var t="";-1!==e.indexOf("&multilink=true")?t="&multilink=true[\0-\xff]*":-1!==e.indexOf("?multilink=true")&&(t="\\?multilink=true[\0-\xff]*");var n=RegExp(t,"g");e=e.replace(n,"")}catch(e){}return e},e}(),eo=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.event_verify_url){if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,function(t){e.requestManager.useBeacon({url:n.url,data:t}),e.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"SDK Report ByteIo Verify Request",time:Date.now(),data:t,code:200,status:"success",verifyType:!0})})}}else console.log("please use correct et_test url")}},e}(),es=function(){function e(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=Date.now(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,d(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageAlive(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},e.prototype.sendEvent=function(e,t){void 0===t&&(t=!1);var n=t?this.aliveDTime:Date.now()-this.sessionStartTime;n<0||n>this.aliveDTime||Date.now()-this.pageStartTime>this.maxDuration||t&&"hidden"===document.visibilityState||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.aliveName,r({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:n,is_support_visibility_change:b(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:e,mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.sessionStartTime=Date.now())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval(function(){Date.now()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)},1e3)},e.prototype.visibilitychange=function(){"hidden"===document.visibilityState?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1)):"visible"===document.visibilityState&&(this.sessionStartTime=Date.now(),this.timerHandler=this.setUpTimer())},e.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0)},e.prototype.enablePageAlive=function(){var e=this;this.timerHandler=this.setUpTimer();var t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),_(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.timerHandler&&(clearInterval(e.timerHandler),e.sendEvent(!1)),e.focusState=!1},n=function(){e.focusState=!0,e.sessionStartTime=Date.now(),e.timerHandler=e.setUpTimer()};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),ea=function(){function e(e,t){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=Date.now():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=Date.now())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||Date.now())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n.sendEventPageClose()},this.collect=e,this.config=t,this.maxDuration=t.maxDuration||864e5,this.pageStartTime=Date.now(),d(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.resetData()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.resetParams=function(e,t,n){this.url_path=e,this.url=n,this.title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageClose(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback()},e.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0,this.resetParams(location.pathname,document.title,location.href)},e.prototype.sendEventPageClose=function(){var e=Date.now()-this.pageStartTime;this.totalTime<0||e<0||this.totalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,r({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:b(),mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.pageStartTime=Date.now(),this.resetData())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.enablePageClose=function(){var e=this,t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),_(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},n=function(){e.focusState=!0};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),ec=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new es(e,t),this.pageClose=new ea(e,t);var i=this.collect.Types;this.collect.on(i.ResetStay,function(e){var t=e.url_path,i=e.title,r=e.url;n.resetStayDuration(t,i,r)}),this.collect.on(i.RouteChange,function(e){e.init||t.disable_route_report||n.resetStayDuration()}),this.collect.on(i.SetStay,function(e){var t=e.url_path,i=e.title,r=e.url;n.setStayParmas(t,i,r)}),this.enable(this.url_path,this.title,this.url),this.ready(i.Stay),this.collect.emit(i.StayReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})};for(var r in n)i(r)}},e.prototype.enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},e.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},e.prototype.setStayParmas=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.pageAlive.setParams(e,t,n),this.pageClose.setParams(e,t,n),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute resetStayParams",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e.prototype.reset=function(e,t,n){this.disable(),this.enable(e,t,n)},e.prototype.resetStayDuration=function(e,t,n){this.reset(e,t,n),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK Execute resetStayDuration",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e}(),eu=function(){function e(){var e=this;this.setInterval=function(){var t,n,i,r;e.clearIntervalFunc=(t=function(){e.isSessionhasEvent&&e.endCurrentSession()},n=e.sessionInterval,void 0===t&&(t=function(){}),void 0===n&&(n=1e3),r=Date.now()+n,i=window.setTimeout(function e(){var o=Date.now()-r;t(),r+=n,i=window.setTimeout(e,Math.max(0,n-o))},n),function(){window.clearTimeout(i)})},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,function(){n.process()})}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),el=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,function(){n.sdkOnload()}),this.collect.on(i.SubmitError,function(e){var t=e.type,i=e.eventData,r=e.errorCode;"f_data"===t&&n.sdkError(i,r)})}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,r=n.app_id,o=n.app_name,s=n.sdk_version,a=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:r,app_name:o||"",sdk_version:s,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:a},header:{}};setTimeout(function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})},16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],r=i.user,o=i.header,s=[];e.forEach(function(e){e.events.forEach(function(e){s.push(e)})});var a={events:s.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(r)}),local_time_ms:Date.now()}}),user:{user_unique_id:r.user_unique_id},header:{}};setTimeout(function(){n.collect.requestManager.useRequest({url:n.url,data:[a],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})},16)}catch(e){}},e}();function eh(e,t){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaIdx")||e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else if(["A","BUTTON"].includes(e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaContainer")||e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0;return!1}function ep(e){for(var t=e;t&&!eh(t,"container");){if("HTML"===t.nodeName||"BODY"===t.nodeName)return e;t=t.parentElement}return t||e}function ef(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):e.hasAttribute("title")?t=e.getAttribute("title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}var ed=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0},eg=function(e,t){if("string"==typeof t)return ed(e,t);if(g(t)){for(var n=!1,i=0;i<t.length;i++)if(ed(e,t[i])){n=!0;break}return n}},em=function(){function e(e,t,n){var i=this;this.statistics=!1,this.pageView=!1,this.clickEvent=function(e){var t,n;t=e.target,n=i.options,!(1!==t.nodeType||!n.svg&&function(e){if("svg"===e.tagName.toLowerCase())return!0;for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,n=!0):t=t.parentElement;return n}(t)||["HTML","BODY"].includes(t.tagName.toUpperCase()))&&"none"!==t.style.display&&(eh(t,"container")||function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some(function(e){return e.children.length>0})}return!0}(t)||n.svg)&&i.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){i.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){i.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t){t&&"pushState"===t&&i.eventHandel({eventType:"dom",eventName:"beat"},r({beat_type:0},e)),i.eventHandel({eventType:"dom",eventName:"page_view"},e)},this.getPageLoadEvent=function(e){i.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=n.getConfig().eventConfig,this.collect=t,this.options=e,this.beatTime=e.beat}return e.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},e.prototype.addListener=function(e){var t=this;if("proxy-capturing"===e){if(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv){this.collect.on("route-change",function(e){var n=e.config,i=e.name;t.getPageViewEvent(n,i),t.pageView=!0});var n=setTimeout(function(){t.pageView||(t.getPageViewEvent(t.getDefaultConfig()),t.pageView=!0,clearTimeout(n))},2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",function(){t.beatEvent(t.beatTime)});var i=0,r=null;window.addEventListener("scroll",function(){clearTimeout(r),r=setTimeout(o,500),i=document.documentElement.scrollTop||document.body.scrollTop});var o=function(){(document.documentElement.scrollTop||document.body.scrollTop)==i&&t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var s=window.performance&&window.performance.getEntriesByType("paint");s&&s.length?(new PerformanceObserver(function(e){var n=e.getEntries(),i=n[n.length-1],r=i.renderTime||i.loadTime;t.statistics||(t.getPageLoadEvent(r),t.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(function(){t.statistics||(t.getPageLoadEvent(s[0].startTime||0),t.statistics=!0)},2e3)):this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}}},e.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},e.prototype.beatEvent=function(e){var t,n=this;try{this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(t=setInterval(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},e)),_(function(){n.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),n.beatTime&&clearInterval(t)})}catch(e){}},e.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrer,page_key:location.href,refer_page_key:document.referrer,page_title:document.title||location.pathname,page_manual_key:"",refer_page_manual_key:"",refer_page_title:"",page_path:location.pathname,page_host:location.host}},e}(),ev={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},ey=function(){function e(e,t){this.config=e,this.config.eventConfig=Object.assign(this.config.eventConfig,t)}return e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(e){return this.config=e},e}(),e_=function(e,t,n,i,o){return r(r({event:e},function(e,t,n,i){var r,o,s,a,c,u,l,h,p,f,d={},m=function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return{left:t.left,top:t.top,element_width:n,element_height:i}}}(t),y=(void 0===(r=e)&&(r={}),void 0===(o=m)&&(o={}),s=r.clientX,a=r.clientY,{touch_x:Math.floor(s-(c=o.left)>=0?s-c:0),touch_y:Math.floor(a-(u=o.top)>=0?a-u:0)}),_=m.element_width,b=m.element_height,E=y.touch_x,S=y.touch_y,w=function(e){for(var t=[];null!==e.parentElement;)t.push(e),e=e.parentElement;var n=[],i=[];return t.forEach(function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var i=n.children,r=0;r<i.length&&i[r]!==e;r++)i[r].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),eh(e,"list")?"[]":""].join(""),index:t}}(e),r=t.str,o=t.index;n.unshift(r),i.unshift(o)}),{element_path:"/"+n.join("/"),positions:i}}(t),T=w.element_path,A=w.positions,k=(l=ep(t),h=[],function e(t){var n=ef(t);if(n&&-1===h.indexOf(n)&&h.push(n),t.childNodes.length>0)for(var i=t.childNodes,r=0;r<i.length;r++)8!==i[r].nodeType&&e(i[r])}(l),h),C=window.performance.timing.navigationStart,R=Date.now()-C,D=A.map(function(e){return""+e}),O=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(O=window.TEAVisualEditor.getOriginXpath({xpath:T,positions:D})),d.element_path=O&&O.xpath||T,d.positions=O&&O.positions||D,i&&!i.text&&(d.texts=k,d.element_title=(p=ep(t),f="",function e(t){var n=ef(t);if(n&&(f+=n),t.childNodes.length>0)for(var i=t.childNodes,r=0;r<i.length;r++)3===i[r].nodeType&&e(i[r])}(p),f)),d.element_id=t.getAttribute("id")||"",d.element_class_name=t.getAttribute("class")||"",d.element_type=t.nodeType,d.element_width=Math.floor(_),d.element_height=Math.floor(b),d.touch_x=E,d.touch_y=S,d.page_manual_key="",d.elememt_manual_key="",d.since_page_start_ms=R,d.page_start_ms=C,d.page_path=location.pathname,d.page_host=location.host,n.track_attr&&eg(t,n.track_attr)){var M=function(e,t){var n={};if("string"==typeof t)ed(e,t)&&(n.attrs=e.getAttribute(t));else if(g(t))for(var i=0;i<t.length;i++)ed(e,t[i])&&(n[t[i]]=e.getAttribute(t[i]));return n}(t,n.track_attr);for(var B in M)d[B]=M[B]}var I=ep(t);return"A"===I.tagName&&(d.href=I.getAttribute("href")),"IMG"===t.tagName&&(d.src=t.getAttribute("src")),d}(t,n,i,o)),{is_html:1,page_key:window.location.href,page_title:document.title})},eb=function(){function e(e,t){this.ignore={text:!0},this.initConfig=e,this.options=t,this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure"},t&&!0===t.text&&(this.ignore.text=!1),t&&t.exposure&&t.exposure.eventName&&(this.eventName.exposure=t.exposure.eventName)}return e.prototype.handleEvent=function(e,t){try{if(function(e){for(var t=e;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore"))return!0;if("HTML"===t.nodeName||"body"===t.nodeName)break;t=t.parentNode}return!1}(e.target))return null;var n="bav2b_click";switch(t){case"click":return n=this.eventName.click,e_(n,e,e.target,this.options,this.ignore);case"exposure":return n=this.eventName.exposure,e_(n,e,e.target,this.options,this.ignore);case"change":return r(r({},e_(n="bav2b_change",e,e.target,this.options)),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,e.target));case"submit":return e_(n="bav2b_submit",e,e.target,this.options)}}catch(e){return console.error(e),null}},e.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t=window.sessionStorage.getItem("_tea_cache_duration");if(t){var n=JSON.parse(t);e.refer_page_duration_ms=n?n.duration:""}e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},e.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"",t.refer_page_manual_key="";try{var n=e.lcp,i=window.performance.timing,r=i.loadEventEnd-i.navigationStart;t.page_init_cost_ms=parseInt(n||(r>0?r:0)),t.page_start_ms=i.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},e.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{e.page_viewport_width=window.innerWidth,e.page_viewport_height=window.innerHeight,e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},e}(),eE=function(){function e(e){this.collect=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return e.prototype.send=function(e,t){var n=e.eventSend,i=t.event;delete t.event,n&&"becon"===n?this.collect.beconEvent(i,t):this.collect.event(i,t)},e.prototype.get=function(e,t){fetch(e,Object.assign({headers:{"content-type":"application/json"},method:"GET"},t))},e.prototype.post=function(e,t){fetch(e,Object.assign({headers:{"content-type":"application/json"},method:"POST"},t))},e}(),eS={},ew=[];function eT(e,t,n,i){var r=e&&e.source||window.opener||window.parent,o=e&&e.origin||i||"*";r.postMessage(JSON.stringify({type:t,payload:n}),o)}function eA(e){if(ew.some(function(e){return"*"===e})||ew.some(function(t){return e.origin.indexOf(t)>-1})){var t=e.data;if("string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){t=void 0}if(t){var n=t.type,i=t.payload;eS[n]&&eS[n].forEach(function(t){"function"==typeof t&&t(e,i)})}}}var ek,eC,eR=!1,eD=function(){function e(e){this._instance=null,this._intersection=e,this.init()}return e.prototype.init=function(){var e=this;this._instance=new MutationObserver(function(t){t.forEach(function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)})}),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})},e.prototype.attributeChangeObserve=function(e){e.target.hasAttribute("data-exposure")?this.exposureAdd(e,"mutation"):this.exposureRemove(e)},e.prototype.modifyNodeObserve=function(e){var t=this;Array.prototype.forEach.call(e.addedNodes,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureAdd(e,"intersect"),t.mapChild(e,t.exposureAdd)}),Array.prototype.forEach.call(e.removedNodes,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureRemove(e),t.mapChild(e,t.exposureRemove)})},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&Array.prototype.forEach.call(e.children,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t(e),n.mapChild(e,t)})},e.prototype.exposureAdd=function(e,t){this._intersection.exposureAdd(e,t)},e.prototype.exposureRemove=function(e){this._intersection.exposureRemove(e)},e._exposure_observer=null,e}(),eO=function(){function e(t,n){this.count=1,this.instance=this.buildObserver(),this.observeMap=e._observer_map,t.autotrack.exposure.ratio?this.Ratio=t.autotrack.exposure.ratio:0===t.autotrack.exposure.ratio?this.Ratio=0:this.Ratio=.5,this.EventHandle=n}return e.prototype.buildObserver=function(){var t=this;if(!e._observer_instance)return IntersectionObserver&&(e._observer_instance=new IntersectionObserver(function(e){e.forEach(function(e){t.observeMap.get(e.target._observeId)&&t.exposureEvent(e)})},{threshold:[.01,.25,.5,.75,1]})),e._observer_instance},e.prototype.exposureAdd=function(e,t){var n=e;"mutation"===t&&(n=e.target);var i=n._observeId;if(i||this.observeMap.has(i)){if(!1===n.visible){var r=n.getBoundingClientRect(),o=r.top,s=r.left,a=r.right,c=r.bottom;o>=0&&c<=window.innerHeight&&s>=0&&a<=window.innerWidth&&(n.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e))}}else n._observeId=this.count,n.visible=!1,this.observeMap.set(this.count,n),this.observe(n),this.count++},e.prototype.exposureRemove=function(e){this.observeMap.has(e._observeId)&&(this.observeMap.delete(e._observeId),this.unobserve(e))},e.prototype.exposureEvent=function(e){e.intersectionRatio>=this.Ratio&&e.isIntersecting?"0"!==e.target.style.opacity&&"hidden"!==e.target.style.visibility&&!0!==e.target.visible&&(e.target.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e)):e.target.visible=!1},e.prototype.observe=function(e){this.instance.observe(e)},e.prototype.unobserve=function(e){this.instance.unobserve(e)},e._observer_instance=null,e._observer_map=new Map,e}(),eM=function(){function e(e,t){e.autotrack&&e.autotrack.exposure&&(this._intersection=new eO(e,t),this._observer=new eD(this._intersection),this.initObserver())}return e.prototype.initObserver=function(){var e=this;Array.prototype.forEach.call(document.querySelectorAll("[data-exposure]"),function(t){e._intersection.exposureAdd(t,"intersect")})},e}(),eB={hashTag:!1,impr:!1},eI=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var n=e.Types;t.autotrack&&t.autotrack.collect_url&&!t.autotrack.collect_url()||(this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady))}},e.prototype.ready=function(e){this.collect.set(e);var t=this.config.autotrack;t=Object.assign(eB,t="object"==typeof t?t:{}),this.destroyed=!1,this.options=t,this.Config=new ey(ev,this.options),this.Exposure=new eM(this.config,this.handle.bind(this)),this.Listener=new em(t,this.collect,this.Config),this.EventHandle=new eb(this.config,t),this.Request=new eE(this.collect),this.autoTrackStart=!0,this.init(),function(e,t){window.TEAVisualEditor=window.TEAVisualEditor||{},window.TEAVisualEditor.appId=t.app_id;var n,i,o,s,a,c=t.channel_domain,u="";if((n=["*"]).length&&n.forEach(function(e){ew.push(e)}),c){var l,h="";try{var p=window.performance.getEntriesByType("resource");if(p&&p.length&&(p.forEach(function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(h=e.name)}),h&&(l=h.split("/"))&&l.length)){u="https:/";for(var f=2;f<l.length&&f!==l.length-1;f++)u=u+"/"+l[f];u&&u.indexOf("/5.0")&&(u=u.split("/5.0")[0]||u)}}catch(e){}}i="5.3.0_oversea",delete(o=r({},t)).filter,(window.opener||window.parent).postMessage({type:"tea:sdk:info",config:o,version:i},"*"),window.addEventListener("message",eA,!1);try{a=function(n){var i,r,o,s,a,c,u,l=n.data.app_id;l&&l!==t.app_id||(a=(i={event:n,editorUrl:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/log-sdk/collect/heatmap-core.js?query="+Date.now(),autoTrackInstance:e}).event,c=i.editorUrl,u=i.autoTrackInstance,eR||(eR=!0,r=function(){eT(a,"editorScriptloadSuccess"),u.destroy()},o=function(){a&&eT(a,"editorScriptloadError"),eR=!1},(s=document.createElement("script")).src=c,s.onerror=function(){o(c)},s.onload=function(){r()},document.getElementsByTagName("head")[0].appendChild(s)))},eS[s="tea:openHeatMapCore"]=eS[s]||[],eS[s].push(a)}catch(e){console.log("openHeatMapCore error")}}(this,this.config)},e.prototype.init=function(){this.Listener.init(this.handle.bind(this)),"base"===this.collect.loadType&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")},e.prototype.handle=function(e,t){"dom"===e.eventType&&this.handleDom(e,t)},e.prototype.handleDom=function(e,t){try{var n=e.eventName;if("click"===n||"exposure"===n||"change"===n||"submit"===n){var i=this.EventHandle.handleEvent(t,n);null!==i&&this.Request.send({eventType:"custom",eventName:"report_"+n+"_event",extra:{methods:"GET"}},i)}else if("page_view"===n||"page_statistics"===n){var r=void 0;r="page_view"===n?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},r)}else if("beat"===n){var o=this.EventHandle.handleBeadtEvent(t),s=e.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:s},o)}}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},e.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},e}();(i=eC||(eC={})).Net="net",i.FailNet="f_net",i.FailData="f_data";var eG={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},eP=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.ready=t.app_id&&t.enable_tracer&&!t.disable_track_event,this.ready){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Map,this.collect=e,this.appid=t.app_id,this.reportUrl=e.configManager.getUrl("event");var i=this.collect.Types;e.adapters.fetch,this.collect.on(i.Event,function(e){g(e)?e.forEach(function(e){n.addCount("log")}):n.addCount("log")}),this.collect.on(i.SubmitError,function(e){var t=e.type,i=e.eventDate,r=e.errorCode,o=e.response;n.addErrorCount(i,t,r,o)}),this.listener(),this.collect.emit(i.TracerReady)}},e.prototype.addCount=function(e,t,n){void 0===t&&(t="net"),void 0===n&&(n=1);try{this.tracerCache||(this.tracerCache=new Map);var i=void 0;if(this.tracerCache.has(e))(r=this.tracerCache.get(e)).has(t)?(i=r.get(t).params.count,i++,r.set(t,this.processTracer(i,e,t))):(i=n,r.set(t,this.processTracer(n,e,t)));else{var r=new Map;i=n,r.set(t,this.processTracer(n,e,t)),this.tracerCache.set(e,r)}"net"===t&&i>=this.limit[e]&&this.report(!1)}catch(e){console.log(e)}},e.prototype.addErrorCount=function(e,t,n,i){var r=this;try{if(e&&e.length){var o=e[0].events;o&&o.length&&("f_data"===t?(i&&i.hasOwnProperty("sc")?this.addCount("log",t,o.length-i.sc):this.addCount("log",t,o.length),this.errorCode[t]=n):o.forEach(function(e){var i="log";for(var o in eG)if(-1!==eG[o].indexOf(e.event)){i=o;break}r.addCount(i,t,1),r.errorCode[t]=n}))}}catch(e){}},e.prototype.report=function(e){if(this.tracerCache){var t=[];this.tracerCache.forEach(function(e){console.log(e),e.forEach(function(e){t.push(e)})}),t&&t.length&&this.sendTracer(t,e)}},e.prototype.sendTracer=function(e,t){try{var n=this.collect.eventManager.merge(e);this.collect.requestManager.useRequest({url:this.reportUrl,data:n,useBeacon:t}),this.tracerCache=null}catch(e){}},e.prototype.processTracer=function(e,t,n){try{var i={count:e,state:n,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:"5.3.0_oversea"};"f_net"!==n&&"f_data"!==n||(i.errorCode=this.errorCode[n]);var r=this.collect.processEvent("applog_trace",i);if(r&&r.event)return delete r.is_bav,r}catch(e){console.warn("something error")}},e.prototype.listener=function(){var e=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.leavePage()}),_(function(){e.leavePage()})},e.prototype.leavePage=function(){this.report(!0)},e}(),ex="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,ez=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach(function(t,n){if("sdk"===t){if(ee.hasOwnProperty(n)){var i=ee[n].object,r=""+ee[n].src[e.channel];e.exist(n,i,r)}else console.warn("your "+n+" is not exist\uFF0Cplease check plugin name")}else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))})}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;ex[t]?(this.process(e,ex[t]),console.log("already has "+e+" plugin~")):this.loadPlugin(e,n,function(){i.process(e,ex[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")},function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")})},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var r=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){i(t)},o.onload=function(){r._plugin[e].forEach(function(e){e()})},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e}(),eL=function(){function e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var n=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(n.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==typeof this.config.autotrack&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var s=t.call.apply(t,o([history,n],i));if(e.collect.sdkStop||e.collect.destroy)return s;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var a=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(a,"pushState"),s}};var n=history.replaceState;history.replaceState=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var s=n.call.apply(n,o([history,t],i));if(e.collect.sdkStop||e.collect.destroy)return s;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var a=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(a),s}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.getLocation=function(){return this.lastLocation},e.prototype.pathEquel=function(){try{return new URL(this.lastLocation).origin+new URL(this.lastLocation).pathname===new URL(location.href).origin+new URL(location.href).pathname}catch(e){return!1}},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this;window.addEventListener("hashchange",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href&&(!e.config.disable_spa_query||!e.pathEquel())&&e.allowHash){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}}),window.addEventListener("popstate",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&!(e.lastLocation===window.location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}})},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){try{var e=this.storage.getItem(this.cache_key)||{},t=!1,n=this.storage.getItem("__tea_cache_first_"+this.appid);return t=!n||1!=n,{is_html:1,url:location.href,referrer:this.handleRefer(),page_key:location.href,refer_page_key:this.handleRefer(),page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:e&&e.refer_manual_key||"",refer_page_title:e&&e.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+t}}catch(e){return this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),{}}},e.prototype.sendPv=function(e,t){this.collect.emit("route-change",{config:e,init:!1})},e.prototype.handleRefer=function(){var e="";try{var t=this.storage.getItem()||{};e=t.routeChange?t.refer_key:this.collect.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.setReferCache=function(e){var t=this.storage.getItem(this.cache_key)||{};t.refer_key=e,t.routeChange=!0,this.storage.setItem(this.cache_key,t)},e}();en.usePlugin(ez,"extend"),en.usePlugin(eP,"tracer"),en.usePlugin(er,"ab"),en.usePlugin(ec,"stay"),en.usePlugin(eI,"autotrack"),en.usePlugin(eo,"et"),en.usePlugin(eu,"heartbeat"),en.usePlugin(el,"monitor"),en.usePlugin(eL,"route"),en.usePlugin(eP,"tracer");var eN=new en("default");t.A=eN},61511:function(e,t,n){n.d(t,{Ay:function(){return i}});var i=n(45535).Ay},2303:function(e,t,n){n.d(t,{B:function(){return eT}});var i,r,o,s,a,c,u,l,h,p,f,d,g=n(16166),m=n(28742);function y(e){return e.type===u.literal}function _(e){return e.type===u.number}function b(e){return e.type===u.date}function E(e){return e.type===u.time}function S(e){return e.type===u.select}function w(e){return e.type===u.plural}function T(e){return e.type===u.tag}function A(e){return!!(e&&"object"==typeof e&&e.type===l.number)}function k(e){return!!(e&&"object"==typeof e&&e.type===l.dateTime)}(i=c||(c={}))[i.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",i[i.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",i[i.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",i[i.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",i[i.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",i[i.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",i[i.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",i[i.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",i[i.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",i[i.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",i[i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",i[i.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",i[i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",i[i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",i[i.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",i[i.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",i[i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",i[i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",i[i.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",i[i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",i[i.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",i[i.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",i[i.INVALID_TAG=23]="INVALID_TAG",i[i.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",i[i.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",i[i.UNCLOSED_TAG=27]="UNCLOSED_TAG",(r=u||(u={}))[r.literal=0]="literal",r[r.argument=1]="argument",r[r.number=2]="number",r[r.date=3]="date",r[r.time=4]="time",r[r.select=5]="select",r[r.plural=6]="plural",r[r.pound=7]="pound",r[r.tag=8]="tag",(o=l||(l={}))[o.number=0]="number",o[o.dateTime=1]="dateTime";var C=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,R=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,D=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,O=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,M=/^(@+)?(\+|#+)?[rs]?$/g,B=/(\*)(0+)|(#+)(0+)|(0+)/g,I=/^(0+)$/;function G(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(M,function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""}),t}function P(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function x(e){return P(e)||{}}var z={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","h","K"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TL:["H","hB","hb","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]},L=new RegExp("^".concat(C.source,"*")),N=new RegExp("".concat(C.source,"*$"));function H(e,t){return{start:e,end:t}}var U=!!String.prototype.startsWith,j=!!String.fromCodePoint,F=!!Object.fromEntries,q=!!String.prototype.codePointAt,V=!!String.prototype.trimStart,K=!!String.prototype.trimEnd,W=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&9007199254740991>=Math.abs(e)},J=!0;try{var X=en("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");J=(null===(h=X.exec("a"))||void 0===h?void 0:h[0])==="a"}catch(e){J=!1}var Q=U?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},$=j?String.fromCodePoint:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i="",r=t.length,o=0;r>o;){if((e=t[o++])>1114111)throw RangeError(e+" is not a valid code point");i+=e<65536?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,e%1024+56320)}return i},Y=F?Object.fromEntries:function(e){for(var t={},n=0;n<e.length;n++){var i=e[n],r=i[0],o=i[1];t[r]=o}return t},Z=q?function(e,t){return e.codePointAt(t)}:function(e,t){var n,i=e.length;if(!(t<0)&&!(t>=i)){var r=e.charCodeAt(t);return r<55296||r>56319||t+1===i||(n=e.charCodeAt(t+1))<56320||n>57343?r:(r-55296<<10)+(n-56320)+65536}},ee=V?function(e){return e.trimStart()}:function(e){return e.replace(L,"")},et=K?function(e){return e.trimEnd()}:function(e){return e.replace(N,"")};function en(e,t){return new RegExp(e,t)}if(J){var ei=en("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");p=function(e,t){var n;return ei.lastIndex=t,null!==(n=ei.exec(e)[1])&&void 0!==n?n:""}}else p=function(e,t){for(var n=[];;){var i,r=Z(e,t);if(void 0===r||es(r)||(i=r)>=33&&i<=35||36===i||i>=37&&i<=39||40===i||41===i||42===i||43===i||44===i||45===i||i>=46&&i<=47||i>=58&&i<=59||i>=60&&i<=62||i>=63&&i<=64||91===i||92===i||93===i||94===i||96===i||123===i||124===i||125===i||126===i||161===i||i>=162&&i<=165||166===i||167===i||169===i||171===i||172===i||174===i||176===i||177===i||182===i||187===i||191===i||215===i||247===i||i>=8208&&i<=8213||i>=8214&&i<=8215||8216===i||8217===i||8218===i||i>=8219&&i<=8220||8221===i||8222===i||8223===i||i>=8224&&i<=8231||i>=8240&&i<=8248||8249===i||8250===i||i>=8251&&i<=8254||i>=8257&&i<=8259||8260===i||8261===i||8262===i||i>=8263&&i<=8273||8274===i||8275===i||i>=8277&&i<=8286||i>=8592&&i<=8596||i>=8597&&i<=8601||i>=8602&&i<=8603||i>=8604&&i<=8607||8608===i||i>=8609&&i<=8610||8611===i||i>=8612&&i<=8613||8614===i||i>=8615&&i<=8621||8622===i||i>=8623&&i<=8653||i>=8654&&i<=8655||i>=8656&&i<=8657||8658===i||8659===i||8660===i||i>=8661&&i<=8691||i>=8692&&i<=8959||i>=8960&&i<=8967||8968===i||8969===i||8970===i||8971===i||i>=8972&&i<=8991||i>=8992&&i<=8993||i>=8994&&i<=9e3||9001===i||9002===i||i>=9003&&i<=9083||9084===i||i>=9085&&i<=9114||i>=9115&&i<=9139||i>=9140&&i<=9179||i>=9180&&i<=9185||i>=9186&&i<=9254||i>=9255&&i<=9279||i>=9280&&i<=9290||i>=9291&&i<=9311||i>=9472&&i<=9654||9655===i||i>=9656&&i<=9664||9665===i||i>=9666&&i<=9719||i>=9720&&i<=9727||i>=9728&&i<=9838||9839===i||i>=9840&&i<=10087||10088===i||10089===i||10090===i||10091===i||10092===i||10093===i||10094===i||10095===i||10096===i||10097===i||10098===i||10099===i||10100===i||10101===i||i>=10132&&i<=10175||i>=10176&&i<=10180||10181===i||10182===i||i>=10183&&i<=10213||10214===i||10215===i||10216===i||10217===i||10218===i||10219===i||10220===i||10221===i||10222===i||10223===i||i>=10224&&i<=10239||i>=10240&&i<=10495||i>=10496&&i<=10626||10627===i||10628===i||10629===i||10630===i||10631===i||10632===i||10633===i||10634===i||10635===i||10636===i||10637===i||10638===i||10639===i||10640===i||10641===i||10642===i||10643===i||10644===i||10645===i||10646===i||10647===i||10648===i||i>=10649&&i<=10711||10712===i||10713===i||10714===i||10715===i||i>=10716&&i<=10747||10748===i||10749===i||i>=10750&&i<=11007||i>=11008&&i<=11055||i>=11056&&i<=11076||i>=11077&&i<=11078||i>=11079&&i<=11084||i>=11085&&i<=11123||i>=11124&&i<=11125||i>=11126&&i<=11157||11158===i||i>=11159&&i<=11263||i>=11776&&i<=11777||11778===i||11779===i||11780===i||11781===i||i>=11782&&i<=11784||11785===i||11786===i||11787===i||11788===i||11789===i||i>=11790&&i<=11798||11799===i||i>=11800&&i<=11801||11802===i||11803===i||11804===i||11805===i||i>=11806&&i<=11807||11808===i||11809===i||11810===i||11811===i||11812===i||11813===i||11814===i||11815===i||11816===i||11817===i||i>=11818&&i<=11822||11823===i||i>=11824&&i<=11833||i>=11834&&i<=11835||i>=11836&&i<=11839||11840===i||11841===i||11842===i||i>=11843&&i<=11855||i>=11856&&i<=11857||11858===i||i>=11859&&i<=11903||i>=12289&&i<=12291||12296===i||12297===i||12298===i||12299===i||12300===i||12301===i||12302===i||12303===i||12304===i||12305===i||i>=12306&&i<=12307||12308===i||12309===i||12310===i||12311===i||12312===i||12313===i||12314===i||12315===i||12316===i||12317===i||i>=12318&&i<=12319||12320===i||12336===i||64830===i||64831===i||i>=65093&&i<=65094)break;n.push(r),t+=r>=65536?2:1}return $.apply(void 0,n)};var er=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var i=[];!this.isEOF();){var r=this.char();if(123===r){var o=this.parseArgument(e,n);if(o.err)return o;i.push(o.val)}else if(125===r&&e>0)break;else if(35===r&&("plural"===t||"selectordinal"===t)){var s=this.clonePosition();this.bump(),i.push({type:u.pound,location:H(s,this.clonePosition())})}else if(60!==r||this.ignoreTag||47!==this.peek()){if(60===r&&!this.ignoreTag&&eo(this.peek()||0)){var o=this.parseTag(e,t);if(o.err)return o;i.push(o.val)}else{var o=this.parseLiteral(e,t);if(o.err)return o;i.push(o.val)}}else{if(!n)return this.error(c.UNMATCHED_CLOSING_TAG,H(this.clonePosition(),this.clonePosition()));break}}return{val:i,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:u.literal,value:"<".concat(i,"/>"),location:H(n,this.clonePosition())},err:null};if(!this.bumpIf(">"))return this.error(c.INVALID_TAG,H(n,this.clonePosition()));var r=this.parseMessage(e+1,t,!0);if(r.err)return r;var o=r.val,s=this.clonePosition();if(!this.bumpIf("</"))return this.error(c.UNCLOSED_TAG,H(n,this.clonePosition()));if(this.isEOF()||!eo(this.char()))return this.error(c.INVALID_TAG,H(s,this.clonePosition()));var a=this.clonePosition();return i!==this.parseTagName()?this.error(c.UNMATCHED_CLOSING_TAG,H(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">"))?{val:{type:u.tag,value:i,children:o,location:H(n,this.clonePosition())},err:null}:this.error(c.INVALID_TAG,H(s,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),i="";;){var r=this.tryParseQuote(t);if(r){i+=r;continue}var o=this.tryParseUnquoted(e,t);if(o){i+=o;continue}var s=this.tryParseLeftAngleBracket();if(s){i+=s;continue}break}var a=H(n,this.clonePosition());return{val:{type:u.literal,value:i,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){var e;return this.isEOF()||60!==this.char()||!this.ignoreTag&&(eo(e=this.peek()||0)||47===e)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39===this.peek())t.push(39),this.bump();else{this.bump();break}}else t.push(n);this.bump()}return $.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),$(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(c.EXPECT_ARGUMENT_CLOSING_BRACE,H(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(c.EMPTY_ARGUMENT,H(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(c.MALFORMED_ARGUMENT,H(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(c.EXPECT_ARGUMENT_CLOSING_BRACE,H(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:u.argument,value:i,location:H(n,this.clonePosition())},err:null};case 44:if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(c.EXPECT_ARGUMENT_CLOSING_BRACE,H(n,this.clonePosition()));return this.parseArgumentOptions(e,t,i,n);default:return this.error(c.MALFORMED_ARGUMENT,H(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=p(this.message,t),i=t+n.length;return this.bumpTo(i),{value:n,location:H(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,i){var r,o=this.clonePosition(),s=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(s){case"":return this.error(c.EXPECT_ARGUMENT_TYPE,H(o,a));case"number":case"date":case"time":this.bumpSpace();var h=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition(),f=this.parseSimpleArgStyleIfPossible();if(f.err)return f;var d=et(f.val);if(0===d.length)return this.error(c.EXPECT_ARGUMENT_STYLE,H(this.clonePosition(),this.clonePosition()));h={style:d,styleLocation:H(p,this.clonePosition())}}var g=this.tryParseArgumentClose(i);if(g.err)return g;var y=H(i,this.clonePosition());if(h&&Q(null==h?void 0:h.style,"::",0)){var _,b=ee(h.style.slice(2));if("number"===s){var f=this.parseNumberSkeletonFromString(b,h.styleLocation);if(f.err)return f;return{val:{type:u.number,value:n,location:y,style:f.val},err:null}}if(0===b.length)return this.error(c.EXPECT_DATE_TIME_SKELETON,y);var E=b;this.locale&&(E=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e.charAt(i);if("j"===r){for(var o=0;i+1<e.length&&e.charAt(i+1)===r;)o++,i++;var s=1+(1&o),a=o<2?1:3+(o>>1),c=function(e){var t,n=e.hourCycle;if(void 0===n&&e.hourCycles&&e.hourCycles.length&&(n=e.hourCycles[0]),n)switch(n){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw Error("Invalid hourCycle")}var i=e.language;return"root"!==i&&(t=e.maximize().region),(z[t||""]||z[i||""]||z["".concat(i,"-001")]||z["001"])[0]}(t);for(("H"==c||"k"==c)&&(a=0);a-- >0;)n+="a";for(;s-- >0;)n=c+n}else"J"===r?n+="H":n+=r}return n}(b,this.locale));var d={type:l.dateTime,pattern:E,location:h.styleLocation,parsedOptions:this.shouldParseSkeletons?(_={},E.replace(R,function(e){var t=e.length;switch(e[0]){case"G":_.era=4===t?"long":5===t?"narrow":"short";break;case"y":_.year=2===t?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":_.month=["numeric","2-digit","short","long","narrow"][t-1];break;case"w":case"W":throw RangeError("`w/W` (week) patterns are not supported");case"d":_.day=["numeric","2-digit"][t-1];break;case"D":case"F":case"g":throw RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":_.weekday=4===t?"short":5===t?"narrow":"short";break;case"e":if(t<4)throw RangeError("`e..eee` (weekday) patterns are not supported");_.weekday=["short","long","narrow","short"][t-4];break;case"c":if(t<4)throw RangeError("`c..ccc` (weekday) patterns are not supported");_.weekday=["short","long","narrow","short"][t-4];break;case"a":_.hour12=!0;break;case"b":case"B":throw RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":_.hourCycle="h12",_.hour=["numeric","2-digit"][t-1];break;case"H":_.hourCycle="h23",_.hour=["numeric","2-digit"][t-1];break;case"K":_.hourCycle="h11",_.hour=["numeric","2-digit"][t-1];break;case"k":_.hourCycle="h24",_.hour=["numeric","2-digit"][t-1];break;case"j":case"J":case"C":throw RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":_.minute=["numeric","2-digit"][t-1];break;case"s":_.second=["numeric","2-digit"][t-1];break;case"S":case"A":throw RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":_.timeZoneName=t<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),_):{}};return{val:{type:"date"===s?u.date:u.time,value:n,location:y,style:d},err:null}}return{val:{type:"number"===s?u.number:"date"===s?u.date:u.time,value:n,location:y,style:null!==(r=null==h?void 0:h.style)&&void 0!==r?r:null},err:null};case"plural":case"selectordinal":case"select":var S=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(c.EXPECT_SELECT_ARGUMENT_OPTIONS,H(S,(0,m.Cl)({},S)));this.bumpSpace();var w=this.parseIdentifierIfPossible(),T=0;if("select"!==s&&"offset"===w.value){if(!this.bumpIf(":"))return this.error(c.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,H(this.clonePosition(),this.clonePosition()));this.bumpSpace();var f=this.tryParseDecimalInteger(c.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,c.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(f.err)return f;this.bumpSpace(),w=this.parseIdentifierIfPossible(),T=f.val}var A=this.tryParsePluralOrSelectOptions(e,s,t,w);if(A.err)return A;var g=this.tryParseArgumentClose(i);if(g.err)return g;var k=H(i,this.clonePosition());if("select"===s)return{val:{type:u.select,value:n,options:Y(A.val),location:k},err:null};return{val:{type:u.plural,value:n,options:Y(A.val),offset:T,pluralType:"plural"===s?"cardinal":"ordinal",location:k},err:null};default:return this.error(c.INVALID_ARGUMENT_TYPE,H(o,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(c.EXPECT_ARGUMENT_CLOSING_BRACE,H(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(c.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,H(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw Error("Number skeleton cannot be empty");for(var t=e.split(D).filter(function(e){return e.length>0}),n=[],i=0;i<t.length;i++){var r=t[i].split("/");if(0===r.length)throw Error("Invalid number skeleton");for(var o=r[0],s=r.slice(1),a=0;a<s.length;a++)if(0===s[a].length)throw Error("Invalid number skeleton");n.push({stem:o,options:s})}return n}(e)}catch(e){return this.error(c.INVALID_NUMBER_SKELETON,t)}return{val:{type:l.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,m.Cl)((0,m.Cl)((0,m.Cl)({},t),{notation:"scientific"}),i.options.reduce(function(e,t){return(0,m.Cl)((0,m.Cl)({},e),P(t)||{})},{}));continue;case"engineering":t=(0,m.Cl)((0,m.Cl)((0,m.Cl)({},t),{notation:"engineering"}),i.options.reduce(function(e,t){return(0,m.Cl)((0,m.Cl)({},e),P(t)||{})},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw RangeError("integer-width stems only accept a single optional option");i.options[0].replace(B,function(e,n,i,r,o,s){if(n)t.minimumIntegerDigits=i.length;else if(r&&o)throw Error("We currently do not support maximum integer digits");else if(s)throw Error("We currently do not support exact integer digits");return""});continue}if(I.test(i.stem)){t.minimumIntegerDigits=i.stem.length;continue}if(O.test(i.stem)){if(i.options.length>1)throw RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(O,function(e,n,i,r,o,s){return"*"===i?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:o&&s?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""});var r=i.options[0];"w"===r?t=(0,m.Cl)((0,m.Cl)({},t),{trailingZeroDisplay:"stripIfInteger"}):r&&(t=(0,m.Cl)((0,m.Cl)({},t),G(r)));continue}if(M.test(i.stem)){t=(0,m.Cl)((0,m.Cl)({},t),G(i.stem));continue}var o=P(i.stem);o&&(t=(0,m.Cl)((0,m.Cl)({},t),o));var s=function(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!I.test(e))throw Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}(i.stem);s&&(t=(0,m.Cl)((0,m.Cl)({},t),s))}return t}(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,i){for(var r,o=!1,s=[],a=new Set,u=i.value,l=i.location;;){if(0===u.length){var h=this.clonePosition();if("select"!==t&&this.bumpIf("=")){var p=this.tryParseDecimalInteger(c.EXPECT_PLURAL_ARGUMENT_SELECTOR,c.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;l=H(h,this.clonePosition()),u=this.message.slice(h.offset,this.offset())}else break}if(a.has(u))return this.error("select"===t?c.DUPLICATE_SELECT_ARGUMENT_SELECTOR:c.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===u&&(o=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?c.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:c.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,H(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,n);if(d.err)return d;var g=this.tryParseArgumentClose(f);if(g.err)return g;s.push([u,{value:d.val,location:H(f,this.clonePosition())}]),a.add(u),this.bumpSpace(),u=(r=this.parseIdentifierIfPossible()).value,l=r.location}return 0===s.length?this.error("select"===t?c.EXPECT_SELECT_ARGUMENT_SELECTOR:c.EXPECT_PLURAL_ARGUMENT_SELECTOR,H(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(c.MISSING_OTHER_CLAUSE,H(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var r=!1,o=0;!this.isEOF();){var s=this.char();if(s>=48&&s<=57)r=!0,o=10*o+(s-48),this.bump();else break}var a=H(i,this.clonePosition());return r?W(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Z(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Q(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&es(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function eo(e){return e>=97&&e<=122||e>=65&&e<=90}function es(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function ea(e,t){void 0===t&&(t={});var n=new er(e,t=(0,m.Cl)({shouldParseSkeletons:!0,requiresOtherClause:!0},t)).parse();if(n.err){var i=SyntaxError(c[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return(null==t?void 0:t.captureLocation)||function e(t){t.forEach(function(t){if(delete t.location,S(t)||w(t))for(var n in t.options)delete t.options[n].location,e(t.options[n].value);else _(t)&&A(t.style)?delete t.style.location:(b(t)||E(t))&&k(t.style)?delete t.style.location:T(t)&&e(t.children)})}(n.val),n.val}function ec(e,t){var n=t&&t.cache?t.cache:ef,i=t&&t.serializer?t.serializer:eh;return(t&&t.strategy?t.strategy:function(e,t){var n,i,r=1===e.length?eu:el;return n=t.cache.create(),i=t.serializer,r.bind(this,e,n,i)})(e,{cache:n,serializer:i})}function eu(e,t,n,i){var r=null==i||"number"==typeof i||"boolean"==typeof i?i:n(i),o=t.get(r);return void 0===o&&(o=e.call(this,i),t.set(r,o)),o}function el(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),o=t.get(r);return void 0===o&&(o=e.apply(this,i),t.set(r,o)),o}var eh=function(){return JSON.stringify(arguments)};function ep(){this.cache=Object.create(null)}ep.prototype.get=function(e){return this.cache[e]},ep.prototype.set=function(e,t){this.cache[e]=t};var ef={create:function(){return new ep}},ed={variadic:function(e,t){var n,i;return n=t.cache.create(),i=t.serializer,el.bind(this,e,n,i)},monadic:function(e,t){var n,i;return n=t.cache.create(),i=t.serializer,eu.bind(this,e,n,i)}};(s=f||(f={})).MISSING_VALUE="MISSING_VALUE",s.INVALID_VALUE="INVALID_VALUE",s.MISSING_INTL_API="MISSING_INTL_API";var eg=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return(0,m.C6)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),em=function(e){function t(t,n,i,r){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),f.INVALID_VALUE,r)||this}return(0,m.C6)(t,e),t}(eg),ev=function(e){function t(t,n,i){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),f.INVALID_VALUE,i)||this}return(0,m.C6)(t,e),t}(eg),ey=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),f.MISSING_VALUE,n)||this}return(0,m.C6)(t,e),t}(eg);function e_(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}(a=d||(d={}))[a.literal=0]="literal",a[a.object=1]="object",function(){function e(t,n,i,r){void 0===n&&(n=e.defaultLocale);var o,s,a=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce(function(e,t){return e.length&&t.type===d.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e},[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return function e(t,n,i,r,o,s,a){if(1===t.length&&y(t[0]))return[{type:d.literal,value:t[0].value}];for(var c=[],l=0;l<t.length;l++){var h=t[l];if(y(h)){c.push({type:d.literal,value:h.value});continue}if(h.type===u.pound){"number"==typeof s&&c.push({type:d.literal,value:i.getNumberFormat(n).format(s)});continue}var p=h.value;if(!(o&&p in o))throw new ey(p,a);var g=o[p];if(h.type===u.argument){g&&"string"!=typeof g&&"number"!=typeof g||(g="string"==typeof g||"number"==typeof g?String(g):""),c.push({type:"string"==typeof g?d.literal:d.object,value:g});continue}if(b(h)){var m="string"==typeof h.style?r.date[h.style]:k(h.style)?h.style.parsedOptions:void 0;c.push({type:d.literal,value:i.getDateTimeFormat(n,m).format(g)});continue}if(E(h)){var m="string"==typeof h.style?r.time[h.style]:k(h.style)?h.style.parsedOptions:r.time.medium;c.push({type:d.literal,value:i.getDateTimeFormat(n,m).format(g)});continue}if(_(h)){var m="string"==typeof h.style?r.number[h.style]:A(h.style)?h.style.parsedOptions:void 0;m&&m.scale&&(g*=m.scale||1),c.push({type:d.literal,value:i.getNumberFormat(n,m).format(g)});continue}if(T(h)){var C=h.children,R=h.value,D=o[R];if("function"!=typeof D)throw new ev(R,"function",a);var O=D(e(C,n,i,r,o,s).map(function(e){return e.value}));Array.isArray(O)||(O=[O]),c.push.apply(c,O.map(function(e){return{type:"string"==typeof e?d.literal:d.object,value:e}}))}if(S(h)){var M=h.options[g]||h.options.other;if(!M)throw new em(h.value,g,Object.keys(h.options),a);c.push.apply(c,e(M.value,n,i,r,o));continue}if(w(h)){var M=h.options["=".concat(g)];if(!M){if(!Intl.PluralRules)throw new eg('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',f.MISSING_INTL_API,a);var B=i.getPluralRules(n,{type:h.pluralType}).select(g-(h.offset||0));M=h.options[B]||h.options.other}if(!M)throw new em(h.value,g,Object.keys(h.options),a);c.push.apply(c,e(M.value,n,i,r,o,g-(h.offset||0)));continue}}return c.length<2?c:c.reduce(function(e,t){var n=e[e.length-1];return n&&n.type===d.literal&&t.type===d.literal?n.value+=t.value:e.push(t),e},[])}(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=a.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var c=r||{},l=(c.formatters,(0,m.Tt)(c,["formatters"]));this.ast=e.__parse(t,(0,m.Cl)((0,m.Cl)({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw TypeError("A message must be provided as a String or AST.");this.formats=(o=e.formats,i?Object.keys(o).reduce(function(e,t){var n,r;return e[t]=(n=o[t],(r=i[t])?(0,m.Cl)((0,m.Cl)((0,m.Cl)({},n||{}),r||{}),Object.keys(n).reduce(function(e,t){return e[t]=(0,m.Cl)((0,m.Cl)({},n[t]),r[t]||{}),e},{})):n),e},(0,m.Cl)({},o)):o),this.formatters=r&&r.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ec(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,m.fX)([void 0],t,!1)))},{cache:e_(s.number),strategy:ed.variadic}),getDateTimeFormat:ec(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,m.fX)([void 0],t,!1)))},{cache:e_(s.dateTime),strategy:ed.variadic}),getPluralRules:ec(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,m.fX)([void 0],t,!1)))},{cache:e_(s.pluralRules),strategy:ed.variadic})})}Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return new Intl.Locale(t.length>0?t[0]:"string"==typeof e?e:e[0])}},e.__parse=ea,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}();var eb=g.createContext({i18n:void 0,locale:void 0}),eE={bindI18n:"languageChanged loaded initialized",bindI18nStore:"added",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0};function eS(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var t=function(){setTimeout(function(){e.off("initialized",t)},0),n()};e.on("initialized",t)}})}var ew=function(){return(ew=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function eT(e,t){void 0===t&&(t={});var n=t.i18n,i=(g.useContext(eb)||{}).i18n,r=n||i||void 0;if(!r){console.warn("You will need to pass in an @ies/starling_intl instance by using registerReactInstance");var o=function(e){return Array.isArray(e)?e[e.length-1]:e},s=[o,{},!1];return s.t=o,s.i18n={},s.ready=!1,s}var a=r.i18nInstance.instance;a.options.react&&void 0!==a.options.react.wait&&console.warn("It seems you are still using the old wait option, you may migrate to the new useSuspense behavior.");var c=ew(ew(ew({},eE),a.options.react),t),u=c.useSuspense,l=e||a.options&&a.options.defaultNS||[];l="string"==typeof l?[l]:l||["translation"];var h=(a.isInitialized||a.initializedStoreOnce)&&l.every(function(e){return function(e,t,n){if(void 0===n&&(n={}),!t.languages||!t.languages.length)return console.warn("i18n.languages were undefined or empty",t.languages),!0;var i=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return -1===i||2===i};return(!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1)||!t.services.backendConnector.backend||!t.isLanguageChangingTo||!!s(t.isLanguageChangingTo,e))&&!!(t.hasResourceBundle(i,e)||!t.services.backendConnector.backend||s(i,e)&&(!r||s(o,e)))}(e,a,c)});function p(){return{t:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!Array.isArray(e))return"";var n=e[0],i=e[1],o=void 0===i?{}:i,s=e[2];return Array.isArray(l)&&l.filter(function(e){return!!e}).length&&(o.ns=l),r.t(n,o,s)}}}var f=g.useState(p()),d=f[0],m=f[1],y=g.useRef(!0);g.useEffect(function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){y.current&&m(p())}y.current=!0,h||u||eS(a,l,function(){y.current&&m(p())});var i=e?e.split(" ").filter(function(e){return!!e}):"",r=t?t.split(" ").filter(function(e){return!!e}):"";return i&&a&&i.forEach(function(e){return a.on(e,n)}),r&&a&&r.forEach(function(e){return a.store.on(e,n)}),function(){y.current=!1,i&&a&&i.forEach(function(e){return a.off(e,n)}),r&&a&&r.forEach(function(e){return a.store.off(e,n)})}},[a,l.join()]);var _=g.useRef(!0);g.useEffect(function(){y.current&&!_.current&&m(p()),_.current=!1},[a]);var b=[d.t,r,h];if(b.t=d.t,b.i18n=r,b.ready=h,h||!h&&!u)return b;throw new Promise(function(e){eS(a,l,function(){e()})})}},45535:function(e,t,n){n.d(t,{Ay:function(){return C},ai:function(){return k}});var i=n(16166),r=n(86830),o=n(57111),s=n(14381),a=n(74187),c=n(30551),u=n.n(c);function l(e){console.warn("loadable: "+e)}var h=i.createContext(),p={initialChunks:{}},f="PENDING",d="REJECTED",g=function(e){var t=function(t){return i.createElement(h.Consumer,null,function(n){return i.createElement(e,Object.assign({__chunkExtractor:n},t))})};return e.displayName&&(t.displayName=e.displayName+"WithChunkExtractor"),t},m=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?m:t,c=e.render,l=e.onLoad;function h(e,t){void 0===t&&(t={});var h="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,m={};function y(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function _(e,i,r){var o=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,a.isValidElementType)(o))throw Error("resolveComponent returned something that is not a React component!");return u()(r,o,{preload:!0}),o}var b=function(e){var t=y(e),n=m[t];return n&&n.status!==d||((n=h.requireAsync(e)).status=f,m[t]=n,n.then(function(){n.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e),chunkName:h.chunkName(e),error:t?t.message:t}),n.status=d})),n},E=g(function(e){function n(n){var i;return((i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:y(n)},!function(e,t){if(!e){var n=Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor)?(!1===t.ssr||(h.requireAsync(n).catch(function(){return null}),i.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&p.initialChunks[h.chunkName(n)])&&i.loadSync(),i)}(0,s.A)(n,e),n.getDerivedStateFromProps=function(e,t){var n=y(e);return(0,o.A)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===d&&this.setCache(),this.state.loading&&this.loadAsync()},i.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},i.componentWillUnmount=function(){this.mounted=!1},i.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},i.getCacheKey=function(){return y(this.props)},i.getCache=function(){return m[this.getCacheKey()]},i.setCache=function(e){void 0===e&&(e=void 0),m[this.getCacheKey()]=e},i.triggerOnLoad=function(){var e=this;l&&setTimeout(function(){l(e.state.result,e.props)})},i.loadSync=function(){if(this.state.loading)try{var e=h.requireSync(this.props),t=_(e,this.props,S);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},i.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var n=_(t,e.props,S);e.safeSetState({result:n,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},i.resolveAsync=function(){var e=this.props;return b((e.__chunkExtractor,e.forwardedRef,(0,r.A)(e,["__chunkExtractor","forwardedRef"])))},i.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,s=(e.__chunkExtractor,(0,r.A)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,u=a.error,l=a.loading,h=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===f)throw this.loadAsync();if(u)throw u;var p=i||t.fallback||null;return l?p:c({fallback:p,result:h,options:t,props:(0,o.A)({},s,{ref:n})})},n}(i.Component)),S=i.forwardRef(function(e,t){return i.createElement(E,Object.assign({forwardedRef:t},e))});return S.displayName="Loadable",S.preload=function(e){S.load(e)},S.load=function(e){return b(e)},S}return{loadable:h,lazy:function(e,t){return h(e,(0,o.A)({},t,{suspense:!0}))}}}var _=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),b=_.loadable,E=_.lazy,S=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),w=S.loadable,T=S.lazy,A="undefined"!=typeof window;function k(e,t){void 0===e&&(e=function(){});var n=void 0===t?{}:t,i=n.namespace,r=n.chunkLoadingGlobal,o=void 0===r?"__LOADABLE_LOADED_CHUNKS__":r;if(!A)return l("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var s=null;if(A){var a=""+(void 0===i?"":i)+"__LOADABLE_REQUIRED_CHUNKS__",c=document.getElementById(a);if(c){s=JSON.parse(c.textContent);var u=document.getElementById(a+"_ext");if(u)JSON.parse(u.textContent).namedChunks.forEach(function(e){p.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!s)return l("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var h=!1;return new Promise(function(e){window[o]=window[o]||[];var t=window[o],n=t.push.bind(t);function i(){s.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!h&&(h=!0,e())}t.push=function(){n.apply(void 0,arguments),i()},i()}).then(e)}b.lib=w,E.lib=T;var C=b},55038:function(e,t){/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},i=(t||{}).decode||r,o=0;o<e.length;){var s=e.indexOf("=",o);if(-1===s)break;var a=e.indexOf(";",o);if(-1===a)a=e.length;else if(a<s){o=e.lastIndexOf(";",s-1)+1;continue}var c=e.slice(o,s).trim();if(void 0===n[c]){var u=e.slice(s+1,a).trim();34===u.charCodeAt(0)&&(u=u.slice(1,-1)),n[c]=function(e,t){try{return t(e)}catch(t){return e}}(u,i)}o=a+1}return n},t.serialize=function(e,t,r){var s=r||{},a=s.encode||o;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var c=a(t);if(c&&!i.test(c))throw TypeError("argument val is invalid");var u=e+"="+c;if(null!=s.maxAge){var l=s.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(s.domain){if(!i.test(s.domain))throw TypeError("option domain is invalid");u+="; Domain="+s.domain}if(s.path){if(!i.test(s.path))throw TypeError("option path is invalid");u+="; Path="+s.path}if(s.expires){var h=s.expires;if("[object Date]"!==n.call(h)&&!(h instanceof Date)||isNaN(h.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+h.toUTCString()}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var n=Object.prototype.toString,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function o(e){return encodeURIComponent(e)}},30551:function(e,t,n){var i=n(74187),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return i.isMemo(e)?s:a[e.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(d){var r=f(n);r&&r!==d&&e(t,r,i)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=c(t),g=c(n),m=0;m<s.length;++m){var y=s[m];if(!o[y]&&!(i&&i[y])&&!(g&&g[y])&&!(a&&a[y])){var _=p(n,y);try{u(t,y,_)}catch(e){}}}}return t}},71057:function(e){e.exports=function(e,t,n,i,r,o,s,a){if(!e){var c;if(void 0===t)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],l=0;(c=Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},2223:function(e){e.exports=r,e.exports.isMobile=r,e.exports.default=r;let t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,i=/android|ipad|playbook|silk/i;function r(e){e||(e={});let r=e.ua;if(r||"undefined"==typeof navigator||(r=navigator.userAgent),r&&r.headers&&"string"==typeof r.headers["user-agent"]&&(r=r.headers["user-agent"]),"string"!=typeof r)return!1;let o=t.test(r)&&!n.test(r)||!!e.tablet&&i.test(r);return!o&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==r.indexOf("Macintosh")&&-1!==r.indexOf("Safari")&&(o=!0),o}},98639:function(e,t){/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case l:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case m:case g:case c:return e;default:return t}}case r:return t}}}function w(e){return S(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||S(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===m},t.isMemo=function(e){return S(e)===g},t.isPortal=function(e){return S(e)===r},t.isProfiler=function(e){return S(e)===a},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===a||e===s||e===f||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===E||e.$$typeof===y)},t.typeOf=S},74187:function(e,t,n){e.exports=n(98639)},93905:function(e,t,n){var i,r,o,s,a,c,u,l,h,p,f,d,g,m,y,_,b,E,S,w,T,A,k,C,R,D,O,M=n(13238),B={};function I(){var e,t;return B.appConfig||(null===(e=B.App)||void 0===e?void 0:e.config)||(null===(t=G())||void 0===t?void 0:t.config)}function G(){return B.layoutApp}var P=n(16166),x=n(61511),z=function(e,t){return"undefined"!=typeof document&&(window._routeModules[t]=e),e},L=function(e){return console.error(e),null},N=n(84129);"undefined"!=typeof document&&(window._routeModules={}),y={layoutApp:k,routes:[{path:"/",children:[{_component:"@_edenx_src/routes/$",path:"*",id:"$",type:"nested",lazyImport:function(){return Promise.all([n.e(740),n.e(801),n.e(759),n.e(142),n.e(161)]).then(n.bind(n,79497)).then(function(e){return z(e,"$")}).catch(L)},component:(0,P.lazy)(function(){return Promise.all([n.e(740),n.e(801),n.e(759),n.e(142),n.e(161)]).then(n.bind(n,79497)).then(function(e){return z(e,"$")}).catch(L)})},{_component:"@_edenx_src/routes/__player/page",index:!0,id:"__player/page",type:"nested",lazyImport:function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(721),n.e(142),n.e(312),n.e(606),n.e(173),n.e(76),n.e(156)]).then(n.bind(n,65076)).then(function(e){return z(e,"__player/page")}).catch(L)},component:(0,P.lazy)(function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(721),n.e(142),n.e(312),n.e(606),n.e(173),n.e(76),n.e(156)]).then(n.bind(n,65076)).then(function(e){return z(e,"__player/page")}).catch(L)})},{_component:"@_edenx_src/routes/__player/embed.v3.[itemId]/page",id:"__player/embed.v3.(itemId)/page",type:"nested",path:"/embed/v3/:itemId",lazyImport:function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(721),n.e(142),n.e(312),n.e(606),n.e(173),n.e(76),n.e(418)]).then(n.bind(n,23369)).then(function(e){return z(e,"__player/embed.v3.(itemId)/page")}).catch(L)},component:(0,P.lazy)(function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(721),n.e(142),n.e(312),n.e(606),n.e(173),n.e(76),n.e(418)]).then(n.bind(n,23369)).then(function(e){return z(e,"__player/embed.v3.(itemId)/page")}).catch(L)})},{_component:"@_edenx_src/routes/__player/player.v1.[itemId]/page",id:"__player/player.v1.(itemId)/page",type:"nested",path:"/player/v1/:itemId",lazyImport:function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(721),n.e(142),n.e(312),n.e(606),n.e(173),n.e(76),n.e(926)]).then(n.bind(n,32079)).then(function(e){return z(e,"__player/player.v1.(itemId)/page")}).catch(L)},component:(0,P.lazy)(function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(721),n.e(142),n.e(312),n.e(606),n.e(173),n.e(76),n.e(926)]).then(n.bind(n,32079)).then(function(e){return z(e,"__player/player.v1.(itemId)/page")}).catch(L)})}],isRoot:!0,_component:"@_edenx_src/routes/layout",id:"layout",type:"nested",lazyImport:function(){return Promise.resolve().then(n.bind(n,84129)).then(function(e){return z(e,"layout")}).catch(L)},component:N.default},{path:"/NotFoundPage",_component:"@_edenx_src/pages/NotFoundPage.tsx",component:(0,x.Ay)(function(){return Promise.all([n.e(740),n.e(801),n.e(759),n.e(609)]).then(n.bind(n,4609))}),type:"page",lazyImport:function(){return Promise.all([n.e(740),n.e(801),n.e(759),n.e(609)]).then(n.bind(n,4609))}},{path:"/player_v1_item/ItemPage",_component:"@_edenx_src/pages/player_v1_item/ItemPage.tsx",component:(0,x.Ay)(function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(606),n.e(173),n.e(945)]).then(n.bind(n,50173))}),type:"page",lazyImport:function(){return Promise.all([n.e(740),n.e(801),n.e(175),n.e(74),n.e(759),n.e(789),n.e(375),n.e(606),n.e(173),n.e(945)]).then(n.bind(n,50173))}}],appInit:A,appConfig:T},B.App=y.App,B.routes=y.routes,B.appInit=y.appInit,B.appConfig="function"==typeof y.appConfig?y.appConfig():y.appConfig,B.layoutApp=y.layoutApp;var H=n(16190),U=n(37214);function j(e){return e&&"object"==typeof e&&!Array.isArray(e)}function F(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var r=n.shift();if(j(e)&&j(r))for(var o in r)j(r[o])?(e[o]||Object.assign(e,(0,U._)({},o,{})),F(e[o],r[o])):Object.assign(e,(0,U._)({},o,r[o]));return F.apply(void 0,[e].concat((0,H._)(n)))}var q=n(31004),V=n(29825),K=n(10901),W=n(28742),J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pre",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post",r=function(n){var i=e.find(function(e){return"string"==typeof n?e[t]===n:e[t]===n[t]});if(!i)throw Error("plugin ".concat(n," not existed"));return i},o=[];e.forEach(function(s){var a,c;null===(a=s[n])||void 0===a||a.forEach(function(n){e.find(function(e){return e.name===n})&&o.push([r(n)[t],r(s)[t]])}),null===(c=s[i])||void 0===c||c.forEach(function(n){e.find(function(e){return e.name===n})&&o.push([r(s)[t],r(n)[t]])})});for(var s=e.filter(function(e){return!o.find(function(n){return n[1]===e[t]})}),a=[];s.length;)!function(){var n=s.shift();a.push(r(n)),o=o.filter(function(e){return e[0]!==r(n)[t]}),s=e.filter(function(e){return!a.find(function(n){return n[t]===e[t]})}).filter(function(e){return!o.find(function(n){return n[1]===e[t]})})}();if(o.length){var c={};throw o.forEach(function(e){c[e[0]]=!0,c[e[1]]=!0}),Error("plugins dependencies has loop: ".concat(Object.keys(c).join(",")))}return a},X=function(e){var t=function(n,i){return e(n,i,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return t(n+1,e)})};return{start:function(e){return t(0,e)},dispatch:t}},Q=Symbol.for("MODERN_PIPELINE"),$=function(e){if("function"==typeof e)return e;if(e&&"function"==typeof e.middleware)return e.middleware;throw Error("".concat(e," is not a Middleware"))},Y=function(){var e,t=[],n=function(e){return X(function(n,i,r){if(n>=t.length){if(e)return e(i);throw Error("Expect returning a value, but all middlewares just calling next()")}return t[n](i,r)})},i=n(),r=function(e,t){return(t?n(null==t?void 0:t.onLast):i).start(e)},o=(e={},(0,U._)(e,Q,!0),(0,U._)(e,"use",function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.push.apply(t,(0,H._)(n.map($))),o}),(0,U._)(e,"run",r),(0,U._)(e,"middleware",function(e,t){return r(e,{onLast:t})}),e);return o},Z=function(){var e=Y();return(0,q._)({},e)},ee=Symbol.for("MODERN_WATERFALL"),et=function(e){if("function"==typeof e)return e;if(e&&"function"==typeof e.middleware)return e.middleware;throw Error("".concat(e," is not a Brook or { brook: Brook }"))},en=function(){var e=Y(),t=(0,V._)((0,q._)({},e),(0,U._)({use:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.use.apply(e,(0,H._)(i.map(et).map(ei))),t},run:function(t,n){return e.run(t,(0,V._)((0,q._)({},n),{onLast:function(e){return e}}))},middleware:function(t){return e.run(t,{onLast:function(e){return e}})}},ee,!0));return t},ei=function(e){return function(t,n){return n(e(t))}},er=Symbol.for("MODERN_ASYNC_WATERFALL"),eo=function(e){if("function"==typeof e)return e;if(e&&"function"==typeof e.middleware)return e.middleware;throw Error("".concat(e," is not a AsyncBrook or { brook: AsyncBrook }"))},es=function(){var e=Z(),t=(0,V._)((0,q._)({},e),(0,U._)({use:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.use.apply(e,(0,H._)(i.map(eo).map(ea))),t},run:function(t,n){return e.run(t,(0,V._)((0,q._)({},n),{onLast:function(e){return e}}))},middleware:function(t){return e.run(t,{onLast:function(e){return e}})}},er,!0));return t},ea=function(e){return function(t,n){return Promise.resolve(e(t)).then(function(e){return n(e)})}},ec=Symbol.for("MODERN_WORKFLOW"),eu=function(){var e=Y(),t=(0,V._)((0,q._)({},e),(0,U._)({use:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.use.apply(e,(0,H._)(i.map(el))),t},run:function(t){return e.run(t,{onLast:function(){return[]}}).filter(Boolean)}},ec,!0));return t},el=function(e){return function(t,n){return[e(t)].concat((0,H._)(n(t)))}},eh=Symbol.for("SYNC_MODERN_PARALLEL_WORKFLOW"),ep=function(){var e=Y(),t=(0,V._)((0,q._)({},e),(0,U._)({run:function(t){return e.run(t,{onLast:function(){return[]}}).filter(function(e){return!!e})},use:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.use.apply(e,(0,H._)(i.map(ef))),t}},eh,!0));return t},ef=function(e){return function(t,n){return[e(t)].concat((0,H._)(n(t)))}},ed=Symbol.for("MODERN_PARALLEL_WORKFLOW"),eg=function(){var e=Y(),t=(0,V._)((0,q._)({},e),(0,U._)({run:function(t){return Promise.all(e.run(t,{onLast:function(){return[]}})).then(function(e){return e.filter(Boolean)})},use:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.use.apply(e,(0,H._)(i.map(em))),t}},ed,!0));return t},em=function(e){return function(t,n){return[e(t)].concat((0,H._)(n(t)))}},ev=Symbol.for("MODERN_ASYNC_WORKFLOW"),ey=function(){var e=Z(),t=(0,V._)((0,q._)({},e),(0,U._)({use:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.use.apply(e,(0,H._)(i.map(e_))),t},run:function(t){var n=e.run(t,{onLast:function(){return[]}});return n&&"function"==typeof n.then?n.then(function(e){return e.filter(Boolean)}):n.filter(Boolean)}},ev,!0));return t},e_=function(e){return function(t,n){return Promise.resolve(e(t)).then(function(e){return Promise.resolve(n(t)).then(function(t){return[e].concat((0,H._)(t))})})}},eb=Symbol.for("ASYNC_INTERRUPT_WORKFLOW_SYMBOL"),eE=function(){var e,t=Z(),n=(e=(0,K._)(function(e){return(0,W.YH)(this,function(n){switch(n.label){case 0:return[4,t.run(e,{onLast:function(){return[]}})];case 1:return[2,n.sent()]}})}),function(t){return e.apply(this,arguments)}),i=(0,V._)((0,q._)({},t),(0,U._)({use:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.use.apply(t,(0,H._)(n.map(eS))),i},run:n},eb,!0));return i},eS=function(e){var t;return t=(0,K._)(function(t,n){var i,r;return(0,W.YH)(this,function(o){switch(o.label){case 0:return i=!1,[4,Promise.resolve(e(t,function(e){return i=!0,e}))];case 1:if(r=o.sent(),i)return[2,r];return[2,Promise.resolve(n(t))]}})}),function(e,n){return t.apply(this,arguments)}},ew=function(e){},eT=function(e){return null!==e&&"object"==typeof e},eA="SYNC_PLUGIN_SYMBOL",ek={name:"untitled",pre:[],post:[],rivals:[],required:[],usePlugins:[],registerHook:{}},eC=function(e,t){var n={},i=eD(t);if(t){var r=function(t){e.forEach(function(e){(null==e?void 0:e[t])&&i[t].use(e[t])}),n[t]=function(e,n){return i[t].run(e,(0,q._)({},n))}};for(var o in i)r(o)}return n},eR=function(e){if(null==e?void 0:e[ee])return en();if(null==e?void 0:e[er])return es();if(null==e?void 0:e[ec])return eu();if(null==e?void 0:e[ev])return ey();if(null==e?void 0:e[ed])return eg();if(null==e?void 0:e[eb])return eE();if(null==e?void 0:e[eh])return ep();if(null==e?void 0:e[Q])return Y();throw Error("Unknown hook: ".concat(e))},eD=function(e){if(!e)return e;var t={};for(var n in e)t[n]=eR(e[n]);return t},eO=(_={},{use:function(){return{get value(){return _},set value(v){_=v}}},get:function(){return _},set:function(e){_=e}}),eM=en(),eB=(a={beforeRender:eE(),wrapRoot:eM,pickContext:en(),modifyRuntimeConfig:ep()},c={useRuntimeConfigContext:function(){return eO.use().value}},l=0,h=(0,q._)({},a),p=function(){return u},f=function(e){h=(0,q._)({},e,h)},d=function(e){return eT(e)&&e.hasOwnProperty(eA)&&e[eA]===eA},g=(0,V._)((0,q._)({},c),{useHookRunners:p}),(m=function(e){var t=[],n=function(e){t.some(function(t){return t.name===e.name})||t.push((0,q._)({},e))},i=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(function(e){if(d(e))n(e);else if("function"==typeof e){var t=e();n(r(t.setup,t))}else eT(e)&&n(r(e.setup,e))}),o},r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===(e=n.usePlugins)||void 0===e?void 0:e.length)&&n.usePlugins.forEach(function(e){i(r(e.setup,e))}),n.registerHook&&f(n.registerHook),(0,V._)((0,q._)((0,V._)((0,q._)({},ek),{name:"No.".concat(l++," plugin")}),n),{SYNC_PLUGIN_SYMBOL:eA,setup:t})},o={createPlugin:r,isPlugin:d,usePlugin:i,init:function(){var n=J(t.slice()),i=(0,q._)({},g,e);return ew(n),u=eC(n.map(function(e){return e.setup(i)}),h)},clear:function(){t=[]},run:function(e){return e()},registerHook:f,useRunner:p,clone:m};return o})());function eI(){if(C)return C;var e=eB.init();return C=e,e}function eG(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return F.apply(void 0,[{},e].concat((0,H._)(n)))}var eP=n(15863),ex=n(84521),ez=function(e){var t=document.querySelectorAll("#".concat(e));if(0!==t.length){var n=t[t.length-1];if(n)try{return JSON.parse((null==n?void 0:n.textContent)||"")}catch(t){console.error("parse ".concat(e," error"),t)}}},eL=n(71113),eN=n(49811),eH=n(71057),eU=n.n(eH),ej=function(){var e=new Map;return function(t){var n=e.get(t);if(n)return n;var i=JSON.stringify(t);return eU()(i,"params should be not null value"),e.set(t,i),i}};(b=R||(R={}))[b.idle=0]="idle",b[b.loading=1]="loading",b[b.fulfilled=2]="fulfilled",b[b.rejected=3]="rejected";var eF=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loading:!1,reloading:!1,data:void 0,error:void 0},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=0,a=i.data,c=i.error,u=!1,l=new Set,h=(t=(0,K._)(function(){return(0,W.YH)(this,function(e){return o||1===s?[2,n]:(s=1,f(),[2,n=r().then(function(e){a=e,c=null,s=2}).catch(function(e){c=e,a=null,s=3}).finally(function(){n=null,u=!0,f()})])})}),function(){return t.apply(this,arguments)}),p=function(){return{loading:!u&&1===s,reloading:u&&1===s,data:a,error:(0,eL._)(c,Error)?"".concat(c.message):c,_error:c}},f=function(){(0,H._)(l).forEach(function(e){e(s,p())})};return{get result(){return p()},get promise(){return n},onChange:function(e){return l.add(e),function(){l.delete(e)}},load:h}},eq=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.skipStatic,r=void 0!==i&&i,o=n.skipNonStatic,s=void 0!==o&&o,a=new Map,c=ej();return{hasPendingLoaders:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=a.values()[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value.promise;if((0,eL._)(o,Promise))return!0}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1},awaitPendingLoaders:(t=(0,K._)(function(){var e,t,n,i,r,o,s,c,u,l;return(0,W.YH)(this,function(h){switch(h.label){case 0:e=[],t=!0,n=!1,i=void 0;try{for(r=a[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)c=(s=(0,eN._)(o.value,2))[0],l=(u=s[1]).promise,(0,eL._)(l,Promise)&&e.push([c,u])}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return[4,Promise.all(e.map(function(e){return e[1].promise}))];case 1:return h.sent(),[2,e.reduce(function(e,t){var n=(0,eN._)(t,2),i=n[0],r=n[1];return e[i]=r.result,e},{})]}})}),function(){return t.apply(this,arguments)}),add:function(t,n){var i=c(n.params),o=a.get(i),u=n._cache;if(!o||!1===u){var l=s&&!n.static,h=r&&n.static;o=eF(i,void 0!==e[i]?e[i]:{data:n.initialData},t,l||h),a.set(i,o)}return i},get:function(e){return a.get(e)}}},eV=(0,P.createContext)({});(0,P.createContext)({});var eK=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0;return{loaderManager:eq({}),runner:e,isBrowser:t,routeManifest:n||"undefined"!=typeof window&&window._MODERNJS_ROUTE_MANIFEST}},eW=en(),eJ=n(77009),eX=n(3736);function eQ(e){var t=.001*new Date().getTime(),n=Math.floor(t),i=Math.floor(t%1*1e9);return e&&(n-=e[0],(i-=e[1])<0&&(n--,i+=1e9)),[n,i]}var e$=function(e){var t=(0,eN._)(eQ(e),2);return 1e3*t[0]+t[1]/1e6},eY=function(){var e=eQ();return function(){return e$(e)}},eZ=function(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.children,s=e.index,a=e.id,c=e.component,u=e.isRoot,l=e.lazyImport,h=e.config,p=e.handle,f=r.parent,d=r.props,g=r.reporter,m={caseSensitive:e.caseSensitive,path:e.path,id:e.id,loader:(n=e.loader)?(t=(0,K._)(function(t){var i,r,o;return(0,W.YH)(this,function(s){switch(s.label){case 0:return"function"==typeof e.lazyImport&&e.lazyImport(),i=eY(),[4,n(t)];case 1:return r=s.sent(),o=i(),"undefined"==typeof document&&g&&(null==g||g.reportTiming("".concat("server-loader","-").concat(e.id),o)),[2,r]}})}),function(e){return t.apply(this,arguments)}):function(){return"function"==typeof e.lazyImport&&e.lazyImport(),null},action:e.action,hasErrorBoundary:e.hasErrorBoundary,shouldRevalidate:e.shouldRevalidate,handle:(0,q._)({},p,"object"==typeof h?null==h?void 0:h.handle:{}),index:e.index,element:e.element,errorElement:e.errorElement};if(e.error){var y=(0,M.jsx)(e.error,{});m.errorElement=y}if(c){if((null==f?void 0:f.loading)&&l){var _=f.loading;i=e0(c)?(0,M.jsx)(c,{fallback:(0,M.jsx)(_,{})}):(0,M.jsx)(P.Suspense,{fallback:(0,M.jsx)(_,{}),children:(0,M.jsx)(c,{})})}else i=e0(c)&&l?(0,M.jsx)(c,{}):u?(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(c,(0,q._)({},void 0===d?{}:d))}):l?(0,M.jsx)(P.Suspense,{fallback:null,children:(0,M.jsx)(c,{})}):(0,M.jsx)(c,{})}else e.loading=null==f?void 0:f.loading,m.element=(0,M.jsx)(eP.sv,{});i&&(m.element=i);var b=null==o?void 0:o.map(function(t){return eZ(t,{parent:e,reporter:g})});return s?(0,M.jsx)(eP.qh,(0,V._)((0,q._)({},m),{index:!0}),a):(0,M.jsx)(eP.qh,(0,V._)((0,q._)({},m),{index:!1,children:b}),a)};function e0(e){return e&&"Loadable"===e.displayName&&e.preload&&"function"==typeof e.preload}var e1=function(){return(0,M.jsx)("div",{style:{margin:"150px auto",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:"404"})};function e2(){return null}var e4=function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=RegExp("".concat("/","{1,}"),"g");return(e=n.join("/").replace(r,"/"))&&"string"==typeof e&&(e.startsWith(".")&&(e=e.slice(1)),e.startsWith("/")||(e="/".concat(e)),e.endsWith("/")&&"/"!==e&&(e=e.slice(0,e.length-1))),e},e6={routes:[]},e8=n(45071),e3=[];e3.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"@edenx/plugin-context-compat",setup:function(){return{beforeRender:function(t){t.extra=(0,q._)({},(null==t?void 0:t.extra)||{},e),t.utils=t.utils||{},Object.defineProperty(t,"_context",{get:function(){return t.context}}),Object.defineProperty(t,"_utils",{get:function(){return t.utils}})},pickContext:function(e){return(0,V._)((0,q._)({},e),{Plugins:(0,q._)({},e.Plugins||{}),get _context(){return e.context},get _utils(){return e.utils}})}}}}}(eG({},(D||{}).contextCompat,((D||{}).contextCompatByEntries||{}).main,(I()||{}).contextCompat))),e3.push((eG({},(D||{}).ssrCompat,((D||{}).ssrCompatByEntries||{}).main,(I()||{}).ssrCompat),{name:"@edenx/plugin-ssr-compat",pre:["@edenx/plugin-ssr"],setup:function(){return{beforeRender:function(e){var t,n;e.context=(0,q._)({getInitData:function(){return Object.freeze(e.initialData)},isBrowser:e.isBrowser},e.isBrowser?{request:(null===(t=e.ssrContext)||void 0===t?void 0:t.request)||{},response:(null===(n=e.ssrContext)||void 0===n?void 0:n.response)||{}}:e.ssrContext||{})},pickContext:function(e){return delete e.request,delete e.response,(0,V._)((0,q._)({},e),{context:e.context})}}}})),e3.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"@modern-js/plugin-router",registerHook:{modifyRoutes:eW},setup:function(t){var n=[];return window._SERVER_DATA=ez("__MODERN_SERVER_DATA__"),{beforeRender:function(e){e.router={useMatches:eP.FE,useLocation:eP.zy,useHref:eP.$P},Object.defineProperty(e,"routes",{get:function(){return n}})},wrapRoot:function(i){var r,o=F(t.useRuntimeConfigContext().router||{},e),s=o.serverBase,a=void 0===s?[]:s,c=o.supportHtml5History,u=void 0===c||c,l=o.basename,h=void 0===l?"":l,p=o.routesConfig,f=o.createRoutes;return(e6=(0,q._)({routes:B.routes,globalApp:G()},p)).routes||f?(r=function(e){var i,r,o=(0,P.useContext)(eV),s=(o._internalRouterBaseName||(null===(r=window._SERVER_DATA)||void 0===r?void 0:r.router.baseUrl)||(i=location.pathname,a.find(function(e){return 0===i.search(e)})||"/")).replace(/^\/*/,"/"),c="/"===s?e4(s,h):s,l=window._ROUTER_DATA,p=o.unstable_getBlockNavState;return(0,P.useMemo)(function(){(null==l?void 0:l.errors)&&(l=(0,V._)((0,q._)({},l),{errors:function(e){if(!e)return null;var t=Object.entries(e),n={},i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=(0,eN._)(s.value,2),u=c[0],l=c[1];if(l&&"RouteErrorResponse"===l.__type)n[u]=new eX.VV(l.status,l.statusText,l.data,!0===l.internal);else if(l&&"Error"===l.__type){var h=Error(l.message);h.stack=l.stack,n[u]=h}else n[u]=l}}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(l.errors)})),n=f?f():(0,eP.Eu)(function(e){var t=e.routesConfig,n=e.props,i=e.ssrMode,r=e.reporter;if(!t)return null;var o=t.routes,s=t.globalApp;return o?function(e,t){var n=t.globalApp,i=t.ssrMode,r=t.props,o=t.reporter,s=function(e){var t=e.Component,i=(0,eJ._)(e,["Component"]);return n?(0,M.jsx)(n,(0,q._)({Component:t},i)):(0,M.jsx)(t,(0,q._)({},i))},a=[],c=!0,u=!1,l=void 0;try{for(var h,p=e[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var f=h.value;if("nested"===f.type){var d=eZ(f,{DeferredDataComponent:"stream"===i?e2:void 0,props:r,reporter:o});a.push(d)}else{var g=(0,M.jsx)(eP.qh,{path:f.path,element:(0,M.jsx)(s,{Component:f.component})},f.path);a.push(g)}}}catch(e){u=!0,l=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}return a.push((0,M.jsx)(eP.qh,{path:"*",element:(0,M.jsx)(e1,{})},"*")),a}(o,{globalApp:s,ssrMode:i,props:n,reporter:r}):null}({routesConfig:e6,props:e})),n=t.useHookRunners().modifyRoutes(n);var i=u?(0,ex.Ys)(n,{basename:c,hydrationData:l}):(0,ex.Ge)(n,{basename:c,hydrationData:l}),r=i.subscribe;return i.subscribe=function(e){return r(function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!(p&&p()))return e.apply(void 0,(0,H._)(n))})},Object.defineProperty(o,"remixRouter",{get:function(){return i},configurable:!0,enumerable:!0}),i},[e6,e,c,l,p])},function(e){var t=r(e);return(0,M.jsx)(ex.pg,{router:t})}):i},pickContext:function(e){var t=e.remixRouter;if(!t)return e;var n=(0,V._)((0,q._)({},e.router),{navigate:t.navigate,get location(){return t.state.location}});return(0,V._)((0,q._)({},e),{router:n})}}}}}(eG({serverBase:["/"]},(D||{}).router,((D||{}).routerByEntries||{}).main,(I()||{}).router))),e3.push((0,e8.p)(eG({isMPA:!1,capabilities:{i18n:{mode:"extract",namespaces:[{projectId:"28289",apiKey:"685f2590441611efbffa31cf80b2a36c",spaceId:"116876",spaceName:"TT_OP_Player",projectName:"TikTok_M2_FE"}]},slardar:{bid:"tiktok_4d_playback"},tea:!0},useConfigBasedRoutes:!1,basename:"/"},(D||{}).ttastraVirtualEnvRuntime,((D||{}).ttastraVirtualEnvRuntimeByEntries||{}).main,(I()||{}).ttastraVirtualEnvRuntime))),i=e3,s=(D||{}).plugins,eB.usePlugin.apply(eB,(0,H._)(i).concat((0,H._)(void 0===s?[]:s))),C=eB.init(),o=eI().modifyRuntimeConfig(),eO.set(F.apply(void 0,[{}].concat((0,H._)(o))));var e5=n(55038);function e7(e){return"/"===e?e:e.replace(/\/+$/,"")}var e9=n(45535);(E=O||(O={}))[E.CLIENT_RENDER=0]="CLIENT_RENDER",E[E.SERVER_PREFETCH=1]="SERVER_PREFETCH",E[E.SERVER_RENDER=2]="SERVER_RENDER";var te=function(e){var t=e.callback,n=e.children,i=(0,P.useRef)(!1);return(0,P.useLayoutEffect)(function(){i.current||(i.current=!0,t())},[t]),n},tt=function(){return!0};function tn(){return(tn=(0,K._)(function(e,t){var n,i,r,o,s,a,c,u,l,h,p,f;function d(){return(d=(0,K._)(function(e){return(0,W.YH)(this,function(t){return[2,function(e,t){return ti.apply(this,arguments)}(P.cloneElement(e,{_internal_context:i}),f)]})})).apply(this,arguments)}function g(){return(g=(0,K._)(function(e,t){return(0,W.YH)(this,function(n){return[2,function(e,t){return tr.apply(this,arguments)}(e,f,t)]})})).apply(this,arguments)}return(0,W.YH)(this,function(m){var y,_,b,E,S,w,T,A,k,C,R,D,I,x,z,L;switch(m.label){case 0:if(i=eK(n=eI()),y=(0,K._)(function(e){var t;return(0,W.YH)(this,function(i){switch(i.label){case 0:return[4,n.beforeRender(e)];case 1:var r,o;return i.sent(),[2,null==(t=B.appInit||(null===(r=B.App)||void 0===r?void 0:r.init)||(null===(o=G())||void 0===o?void 0:o.init))?void 0:t(e)]}})}),r=function(e){return y.apply(this,arguments)},!(void 0===t||"string"==typeof t||"undefined"!=typeof HTMLElement&&(0,eL._)(t,HTMLElement)))return[3,2];return o=function(e){return d.apply(this,arguments)},s=function(e,t){return g.apply(this,arguments)},h=Object.keys(l=(null==(u=function(){var e=window._SSR_DATA;if(e)return(0,V._)((0,q._)({},e),{context:(0,V._)((0,q._)({},e.context),{request:(0,V._)((0,q._)({},e.context.request),{cookieMap:e5.parse(document.cookie||"")||{},cookie:document.cookie||"",userAgent:navigator.userAgent,referer:document.referrer})})})}())?void 0:null===(a=u.data)||void 0===a?void 0:a.loadersData)||{}).reduce(function(e,t){var n=l[t];return(null==n?void 0:n.loading)!==!1||(e[t]=n),e},{}),Object.assign(i,(0,q._)({loaderManager:eq(h,{skipStatic:!0}),_internalRouterBaseName:e.props.basename},u?{ssrContext:null==u?void 0:u.context}:{})),i.initialData=null==u?void 0:null===(c=u.data)||void 0===c?void 0:c.initialData,[4,r(i)];case 1:if((p=m.sent())&&(i.initialData=p),f=t&&"string"!=typeof t?t:document.getElementById(t||"root"),u)return[2,(_=i,b=o,E=s,R=(C=(0,V._)((0,q._)({},_),{get routes(){return _.routes},_hydration:!0})).ssrContext,D=e7(window.location.pathname),(I=(null==R?void 0:null===(S=R.request)||void 0===S?void 0:S.pathname)&&e7(R.request.pathname))&&I!==D&&_.router&&(console.error("The initial URL ".concat(I," and the URL ").concat(D," to be hydrated do not match, reload.")),window.location.reload()),x=function(){delete C._hydration},z=(null===(T=window)||void 0===T?void 0:null===(w=T._SSR_DATA)||void 0===w?void 0:w.renderLevel)||O.CLIENT_RENDER,L=(null===(k=window)||void 0===k?void 0:null===(A=k._SSR_DATA)||void 0===A?void 0:A.mode)||"string",tt()&&"stream"===L?z===O.SERVER_RENDER?E((0,M.jsx)(function(){return(0,M.jsx)(te,{callback:x,children:P.cloneElement(e,{_internal_context:C})})},{})):b(e):z===O.CLIENT_RENDER||z===O.SERVER_PREFETCH?b(e):z===O.SERVER_RENDER?new Promise(function(t){tt()?(0,e9.ai)(function(){E((0,M.jsx)(function(){return(0,M.jsx)(te,{callback:x,children:P.cloneElement(e,{_internal_context:C})})},{})).then(function(e){t(e)})}):(0,e9.ai)(function(){E(P.cloneElement(e,{_internal_context:C}),x).then(function(e){t(e)})})}):(console.warn("unknow render level: ".concat(z,", execute render()")),b(e)))];return[2,o(e)];case 2:throw Error("`render` function needs id in browser environment, it needs to be string or element")}})})).apply(this,arguments)}function ti(){return(ti=(0,K._)(function(e,t){var i;return(0,W.YH)(this,function(r){switch(r.label){case 0:return[4,n.e(594).then(n.t.bind(n,79628,19))];case 1:return(i=r.sent().createRoot(t)).render(e),[2,i]}})})).apply(this,arguments)}function tr(){return(tr=(0,K._)(function(e,t){return(0,W.YH)(this,function(i){switch(i.label){case 0:return[4,n.e(594).then(n.t.bind(n,79628,19))];case 1:return[2,i.sent().hydrateRoot(t,e)]}})})).apply(this,arguments)}var to=(S=B.App,w=eI().wrapRoot(S),function(e){var t=e._internal_context,n=(0,eJ._)(e,["_internal_context"]);return(0,M.jsx)(eV.Provider,{value:t,children:(0,M.jsx)(w,(0,q._)({},n))})});!function(e,t){tn.apply(this,arguments)}((0,M.jsx)(to,{}),"root")},57111:function(e,t,n){n.d(t,{A:function(){return i}});function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}},14381:function(e,t,n){function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}n.d(t,{A:function(){return r}})},86830:function(e,t,n){n.d(t,{A:function(){return i}});function i(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}},10539:function(e,t,n){n.d(t,{m:function(){return o}});var i=n(81153),r=n(68467),o=new class extends i.Q{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!r.S$&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}}},17318:function(e,t,n){n.d(t,{j:function(){return i}});var i=function(){let e=[],t=0,n=e=>{e()},i=e=>{e()},r=e=>setTimeout(e,0),o=i=>{t?e.push(i):r(()=>{n(i)})},s=()=>{let t=e;e=[],t.length&&r(()=>{i(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{--t||s()}return n},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{i=e},setScheduler:e=>{r=e}}}()},37776:function(e,t,n){n.d(t,{t:function(){return o}});var i=n(81153),r=n(68467),o=new class extends i.Q{#i=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!r.S$&&window.addEventListener){let t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#i!==e&&(this.#i=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#i}}},11250:function(e,t,n){n.d(t,{X:function(){return a},k:function(){return c}});var i=n(68467),r=n(17318),o=n(34983),s=n(31679),a=class extends s.k{#r;#o;#s;#a;#c;#u;constructor(e){super(),this.#u=!1,this.#c=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#r=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,i=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#r,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.#c,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#s.remove(this)}setData(e,t){let n=(0,i.pl)(this.state.data,e,this.options);return this.#l({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#l({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(i.lQ).catch(i.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#r)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!(0,i.j3)(this.state.dataUpdatedAt,e)}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#u?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#l({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let n=new AbortController,r={queryKey:this.queryKey,meta:this.meta},s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#u=!0,n.signal)})};s(r);let a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn&&this.options.queryFn!==i.hT?(this.#u=!1,this.options.persister)?this.options.persister(this.options.queryFn,r,this):this.options.queryFn(r):Promise.reject(Error(`Missing queryFn: '${this.options.queryHash}'`))};s(a),this.options.behavior?.onFetch(a,this),this.#o=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#l({type:"fetch",meta:a.fetchOptions?.meta});let c=e=>{(0,o.wm)(e)&&e.silent||this.#l({type:"error",error:e}),(0,o.wm)(e)||(this.#s.config.onError?.(e,this),this.#s.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#a=(0,o.II)({fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0===e){c(Error(`${this.queryHash} data is undefined`));return}this.setData(e),this.#s.config.onSuccess?.(e,this),this.#s.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(e,t)=>{this.#l({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#l({type:"pause"})},onContinue:()=>{this.#l({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#a.start()}#l(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...c(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let n=e.error;if((0,o.wm)(n)&&n.revert&&this.#o)return{...this.#o,fetchStatus:"idle"};return{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),r.j.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function c(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,o.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}},12520:function(e,t,n){n.d(t,{E:function(){return m}});var i=n(68467),r=n(11250),o=n(17318),s=n(81153),a=class extends s.Q{constructor(e={}){super(),this.config=e,this.#h=new Map}#h;build(e,t,n){let o=t.queryKey,s=t.queryHash??(0,i.F$)(o,t),a=this.get(s);return a||(a=new r.X({cache:this,queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){o.j.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.MK)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,i.MK)(e,t)):t}notify(e){o.j.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){o.j.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){o.j.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},c=n(31679),u=n(34983),l=class extends c.k{#p;#f;#a;constructor(e){super(),this.mutationId=e.mutationId,this.#f=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#f.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter(t=>t!==e),this.scheduleGc(),this.#f.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#f.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){this.#a=(0,u.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#l({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#l({type:"pause"})},onContinue:()=>{this.#l({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#f.canRun(this)});let t="pending"===this.state.status,n=!this.#a.canStart();try{if(!t){this.#l({type:"pending",variables:e,isPaused:n}),await this.#f.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#l({type:"pending",context:t,variables:e,isPaused:n})}let i=await this.#a.start();return await this.#f.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#f.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#l({type:"success",data:i}),i}catch(t){try{throw await this.#f.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#f.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#l({type:"error",error:t})}}finally{this.#f.runNext(this)}}#l(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),o.j.batch(()=>{this.#p.forEach(t=>{t.onMutationUpdate(e)}),this.#f.notify({mutation:this,type:"updated",action:e})})}},h=class extends s.Q{constructor(e={}){super(),this.config=e,this.#d=new Map,this.#g=Date.now()}#d;#g;build(e,t,n){let i=new l({mutationCache:this,mutationId:++this.#g,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){let t=p(e),n=this.#d.get(t)??[];n.push(e),this.#d.set(t,n),this.notify({type:"added",mutation:e})}remove(e){let t=p(e);if(this.#d.has(t)){let n=this.#d.get(t)?.filter(t=>t!==e);n&&(0===n.length?this.#d.delete(t):this.#d.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){let t=this.#d.get(p(e))?.find(e=>"pending"===e.state.status);return!t||t===e}runNext(e){let t=this.#d.get(p(e))?.find(t=>t!==e&&t.state.isPaused);return t?.continue()??Promise.resolve()}clear(){o.j.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#d.values()].flat()}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.nJ)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,i.nJ)(e,t))}notify(e){o.j.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return o.j.batch(()=>Promise.all(e.map(e=>e.continue().catch(i.lQ))))}};function p(e){return e.options.scope?.id??String(e.mutationId)}var f=n(10539),d=n(37776);function g(e,{pages:t,pageParams:n}){let i=t.length-1;return e.getNextPageParam(t[i],t,n[i],n)}var m=class{#m;#f;#c;#v;#y;#_;#b;#E;constructor(e={}){this.#m=e.queryCache||new a,this.#f=e.mutationCache||new h,this.#c=e.defaultOptions||{},this.#v=new Map,this.#y=new Map,this.#_=0}mount(){this.#_++,1===this.#_&&(this.#b=f.m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#m.onFocus())}),this.#E=d.t.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#m.onOnline())}))}unmount(){this.#_--,0===this.#_&&(this.#b?.(),this.#b=void 0,this.#E?.(),this.#E=void 0)}isFetching(e){return this.#m.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#f.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#m.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{let n=this.defaultQueryOptions(e),i=this.#m.build(this,n);return e.revalidateIfStale&&i.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#m.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){let r=this.defaultQueryOptions({queryKey:e}),o=this.#m.get(r.queryHash),s=o?.state.data,a=(0,i.Zw)(t,s);if(void 0!==a)return this.#m.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return o.j.batch(()=>this.#m.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#m.get(t.queryHash)?.state}removeQueries(e){let t=this.#m;o.j.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let n=this.#m,i={type:"active",...e};return o.j.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){let n={revert:!0,...t};return Promise.all(o.j.batch(()=>this.#m.findAll(e).map(e=>e.cancel(n)))).then(i.lQ).catch(i.lQ)}invalidateQueries(e={},t={}){return o.j.batch(()=>{if(this.#m.findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();let n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){let n={...t,cancelRefetch:t?.cancelRefetch??!0};return Promise.all(o.j.batch(()=>this.#m.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(i.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(i.lQ)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let n=this.#m.build(this,t);return n.isStaleByTime(t.staleTime)?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i.lQ).catch(i.lQ)}fetchInfiniteQuery(e){var t;return e.behavior=(t=e.pages,{onFetch:(e,n)=>{let r=async()=>{let n;let r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],c=!1,u=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},l=e.options.queryFn&&e.options.queryFn!==i.hT?e.options.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.options.queryHash}'`)),h=async(t,n,r)=>{if(c)return Promise.reject();if(null==n&&t.pages.length)return Promise.resolve(t);let o={queryKey:e.queryKey,pageParam:n,direction:r?"backward":"forward",meta:e.options.meta};u(o);let s=await l(o),{maxPages:a}=e.options,h=r?i.ZZ:i.y9;return{pages:h(t.pages,s,a),pageParams:h(t.pageParams,n,a)}};if(o&&s.length){let e="backward"===o,t={pages:s,pageParams:a},i=(e?function(e,{pages:t,pageParams:n}){return e.getPreviousPageParam?.(t[0],t,n[0],n)}:g)(r,t);n=await h(t,i,e)}else{n=await h({pages:[],pageParams:[]},a[0]??r.initialPageParam);let e=t??s.length;for(let t=1;t<e;t++){let e=g(r,n);n=await h(n,e)}}return n};e.options.persister?e.fetchFn=()=>e.options.persister?.(r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=r}}),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i.lQ).catch(i.lQ)}resumePausedMutations(){return d.t.isOnline()?this.#f.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#m}getMutationCache(){return this.#f}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#v.set((0,i.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#v.values()],n={};return t.forEach(t=>{(0,i.Cp)(e,t.queryKey)&&(n={...n,...t.defaultOptions})}),n}setMutationDefaults(e,t){this.#y.set((0,i.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#y.values()],n={};return t.forEach(t=>{(0,i.Cp)(e,t.mutationKey)&&(n={...n,...t.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,i.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===i.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#m.clear(),this.#f.clear()}}},31679:function(e,t,n){n.d(t,{k:function(){return r}});var i=n(68467),r=class{#S;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,i.gn)(this.gcTime)&&(this.#S=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(i.S$?1/0:3e5))}clearGcTimeout(){this.#S&&(clearTimeout(this.#S),this.#S=void 0)}}},34983:function(e,t,n){n.d(t,{II:function(){return l},v_:function(){return a},wm:function(){return u}});var i=n(10539),r=n(37776),o=n(68467);function s(e){return Math.min(1e3*2**e,3e4)}function a(e){return(e??"online")!=="online"||r.t.isOnline()}var c=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function u(e){return e instanceof c}function l(e){let t,n,u,l=!1,h=0,p=!1,f=new Promise((e,t)=>{n=e,u=t}),d=()=>i.m.isFocused()&&("always"===e.networkMode||r.t.isOnline())&&e.canRun(),g=()=>a(e.networkMode)&&e.canRun(),m=i=>{p||(p=!0,e.onSuccess?.(i),t?.(),n(i))},y=n=>{p||(p=!0,e.onError?.(n),t?.(),u(n))},_=()=>new Promise(n=>{t=e=>{(p||d())&&n(e)},e.onPause?.()}).then(()=>{t=void 0,p||e.onContinue?.()}),b=()=>{let t;if(!p){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(m).catch(t=>{if(p)return;let n=e.retry??(o.S$?0:3),i=e.retryDelay??s,r="function"==typeof i?i(h,t):i,a=!0===n||"number"==typeof n&&h<n||"function"==typeof n&&n(h,t);if(l||!a){y(t);return}h++,e.onFail?.(h,t),(0,o.yy)(r).then(()=>d()?void 0:_()).then(()=>{l?y(t):b()})})}};return{promise:f,cancel:t=>{p||(y(new c(t)),e.abort?.())},continue:()=>(t?.(),f),cancelRetry:()=>{l=!0},continueRetry:()=>{l=!1},canStart:g,start:()=>(g()?b():_().then(b),f)}}},81153:function(e,t,n){n.d(t,{Q:function(){return i}});var i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},68467:function(e,t,n){n.d(t,{Cp:function(){return p},EN:function(){return h},F$:function(){return l},MK:function(){return c},S$:function(){return i},ZZ:function(){return E},Zw:function(){return o},f8:function(){return f},gn:function(){return s},hT:function(){return S},j3:function(){return a},lQ:function(){return r},nJ:function(){return u},pl:function(){return _},y9:function(){return b},yy:function(){return y}});var i="undefined"==typeof window||"Deno"in globalThis;function r(){}function o(e,t){return"function"==typeof e?e(t):e}function s(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t){let{type:n="all",exact:i,fetchStatus:r,predicate:o,queryKey:s,stale:a}=e;if(s){if(i){if(t.queryHash!==l(s,t.options))return!1}else if(!p(t.queryKey,s))return!1}if("all"!==n){let e=t.isActive();if("active"===n&&!e||"inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(!r||r===t.state.fetchStatus)&&(!o||!!o(t))}function u(e,t){let{exact:n,status:i,predicate:r,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(h(t.options.mutationKey)!==h(o))return!1}else if(!p(t.options.mutationKey,o))return!1}return(!i||t.state.status===i)&&(!r||!!r(t))}function l(e,t){return(t?.queryKeyHashFn||h)(e)}function h(e){return JSON.stringify(e,(e,t)=>g(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function p(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(n=>!p(e[n],t[n]))}function f(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}function d(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g(e){if(!m(e))return!1;let t=e.constructor;if(void 0===t)return!0;let n=t.prototype;return!!(m(n)&&n.hasOwnProperty("isPrototypeOf"))}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return new Promise(t=>{setTimeout(t,e)})}function _(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?function e(t,n){if(t===n)return t;let i=d(t)&&d(n);if(i||g(t)&&g(n)){let r=i?t:Object.keys(t),o=r.length,s=i?n:Object.keys(n),a=s.length,c=i?[]:{},u=0;for(let o=0;o<a;o++){let a=i?o:s[o];!i&&void 0===t[a]&&void 0===n[a]&&r.includes(a)?(c[a]=void 0,u++):(c[a]=e(t[a],n[a]),c[a]===t[a]&&void 0!==t[a]&&u++)}return o===a&&u===o?t:c}return n}(e,t):t}function b(e,t,n=0){let i=[...e,t];return n&&i.length>n?i.slice(1):i}function E(e,t,n=0){let i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var S=Symbol()},22791:function(e,t,n){n.d(t,{Ht:function(){return a},jE:function(){return s}});var i=n(16166),r=n(13238),o=i.createContext(void 0),s=e=>{let t=i.useContext(o);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=({client:e,children:t})=>(i.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,r.jsx)(o.Provider,{value:e,children:t}))}}]);